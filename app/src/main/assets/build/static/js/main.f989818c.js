!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=10)}([function(e,t,n){"use strict";e.exports=n(17)},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function o(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,n[0]&&(s=0)),s;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},u=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return u.next=n(0),u.throw=n(1),u.return=n(2),"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}t.c=r,n.d(t,"a",function(){return l}),t.b=i,t.d=o,t.g=a,t.e=s,t.f=u;var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(this,arguments)};Object.create,Object.create,"function"===typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";(function(e){function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&o(r)&&(e[r]=i(e[r],t[r]));return e}function o(e){return"__proto__"!==e}function a(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(T.a)({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[C(JSON.stringify(n)),C(JSON.stringify(a)),""].join(".")}function s(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function l(){return"object"===typeof self&&self.self===self}function f(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var e=s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return s().indexOf("MSAppHost/")>=0}function m(){return!c()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v(e,t){return e.replace(P,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){var n=new j(e,t);return n.subscribe.bind(n)}function w(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function _(){}function E(e){return e&&e._delegate?e._delegate:e}n.d(t,"a",function(){return x}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return l}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"n",function(){return u}),n.d(t,"o",function(){return c}),n.d(t,"p",function(){return h}),n.d(t,"q",function(){return m}),n.d(t,"r",function(){return y});var T=n(1),S=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},I=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):I(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==f)throw Error();var h=o<<2|s>>4;if(r.push(h),64!==c){var d=s<<4&240|c>>2;if(r.push(d),64!==f){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},k=function(e){var t=S(e);return O.encodeByteArray(t,!0)},C=function(e){return k(e).replace(/\./g,"")},x=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),N="FirebaseError",A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=N,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,D.prototype.create),o}return Object(T.c)(t,e),t}(Error),D=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?v(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new A(i,s,r)},e}(),P=/\{\$([^}]+)}/g,j=(function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}(),function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=w(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}())}).call(t,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e){function t(e){delete h[e]}function n(e){if(e=e||m,!Object(c.c)(h,e))throw d.create("no-app",{appName:e});return h[e]}function r(t,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){n={name:n}}var r=n;void 0===r.name&&(r.name=m);var i=r.name;if("string"!==typeof i||!i)throw d.create("bad-app-name",{appName:String(i)});if(Object(c.c)(h,i))throw d.create("duplicate-app",{appName:i});var o=new e(t,r,y);return h[i]=o,o}function i(){return Object.keys(h).map(function(e){return h[e]})}function o(t){var r=t.name;if(p.has(r))return g.debug("There were multiple attempts to register component "+r+"."),"PUBLIC"===t.type?y[r]:null;if(p.set(r,t),"PUBLIC"===t.type){var i=function(e){if(void 0===e&&(e=n()),"function"!==typeof e[r])throw d.create("invalid-app-argument",{appName:r});return e[r]()};void 0!==t.serviceProps&&Object(c.g)(i,t.serviceProps),y[r]=i,e.prototype[r]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,r).apply(this,t.multipleInstances?e:[])}}for(var o=0,a=Object.keys(h);o<a.length;o++){var s=a[o];h[s]._addComponent(t)}return"PUBLIC"===t.type?y[r]:null}function a(e,t,n){var r,i=null!==(r=v[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void g.warn(u.join(" "))}o(new l.a(i+"-version",function(){return{library:i,version:t}},"VERSION"))}function s(e,t){if(null!==e&&"function"!==typeof e)throw d.create("invalid-log-argument");Object(f.d)(e,t)}function u(e,t){return"serverAuth"===t?null:t}var h={},p=new Map,y={__esModule:!0,initializeApp:r,app:n,registerVersion:a,setLogLevel:f.c,onLog:s,apps:null,SDK_VERSION:w,INTERNAL:{registerComponent:o,removeApp:t,components:p,useAsService:u}};return y.default=y,Object.defineProperty(y,"apps",{get:i}),n.App=e,y}function i(){function e(e){Object(c.g)(t,e)}var t=r(b);return t.INTERNAL=Object(u.a)(Object(u.a)({},t.INTERNAL),{createFirebaseNamespace:i,extendNamespace:e,createSubscribe:c.e,ErrorFactory:c.b,deepExtend:c.g}),t}function o(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}var a,s,u=n(1),c=n(2),l=n(8),f=n(6),h=(a={},a["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",a["bad-app-name"]="Illegal App name: '{$appName}",a["duplicate-app"]="Firebase App named '{$appName}' already exists",a["app-deleted"]="Firebase App named '{$appName}' already deleted",a["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",a["invalid-log-argument"]="First argument to `onLog` must be null or a function.",a),d=new c.b("app","Firebase",h),p="@firebase/app",y="0.6.30",m="[DEFAULT]",v=(s={},s[p]="fire-core",s["@firebase/analytics"]="fire-analytics",s["@firebase/app-check"]="fire-app-check",s["@firebase/auth"]="fire-auth",s["@firebase/database"]="fire-rtdb",s["@firebase/functions"]="fire-fn",s["@firebase/installations"]="fire-iid",s["@firebase/messaging"]="fire-fcm",s["@firebase/performance"]="fire-perf",s["@firebase/remote-config"]="fire-rc",s["@firebase/storage"]="fire-gcs",s["@firebase/firestore"]="fire-fst",s["fire-js"]="fire-js",s["firebase-wrapper"]="fire-js-all",s),g=new f.b("@firebase/app"),b=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(c.f)(e),this.container=new l.b(t.name),this._addComponent(new l.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=m),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=m),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){g.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw d.create("app-deleted",{appName:this.name_})},e}();b.prototype.name&&b.prototype.options||b.prototype.delete||console.log("dc");var w="8.10.0",_=i(),E=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(o(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if(Object(c.j)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var T=self.firebase.SDK_VERSION;T&&T.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var S=_.initializeApp;_.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(c.o)()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),S.apply(void 0,e)};var I=_;!function(e,t){e.INTERNAL.registerComponent(new l.a("platform-logger",function(e){return new E(e)},"PRIVATE")),e.registerVersion(p,y,t),e.registerVersion("fire-js","")}(I),t.a=I},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function i(e){u.forEach(function(t){t.setLogLevel(e)})}function o(e,t){for(var n=0,r=u;n<r.length;n++){var i=r[n];!function(n){var r=null;t&&t.level&&(r=c[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}}(i)}}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o});var a,s,u=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));var c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,f=(a={},a[s.DEBUG]="log",a[s.VERBOSE]="log",a[s.INFO]="info",a[s.WARN]="warn",a[s.ERROR]="error",a),h=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=f[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},d=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=h,this._userLogHandler=null,u.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?c[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}()},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,g}}function o(e,t){try{return e(t)}catch(e){return v=e,g}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,g}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&y(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new p(t,n,a))})}function c(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);l(e,t)}function l(e,t){m(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):h(t.promise,e._18));var r=o(n,e._18);r===g?h(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===g)return h(e,v);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void d(e);if("function"===typeof n)return void y(n.bind(t),e)}e._83=1,e._18=t,d(e)}function h(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),d(e)}function d(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function p(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function y(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))});n||r!==g||(n=!0,h(t,v))}var m=n(13),v=null,g={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new p(e,t,n)),n}},function(e,t,n){"use strict";function r(e){return e===u?void 0:e}function i(e){return"EAGER"===e.instantiationMode}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var o=n(1),a=n(2),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),u="[DEFAULT]",c=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(i(e))try{this.getOrInitializeService({instanceIdentifier:u})}catch(e){}try{for(var r=Object(o.g)(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var s=Object(o.e)(a.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:f});l.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=u),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(o.f)(Object(o.f)([],Object(o.e)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),Object(o.e)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=u),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=u),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:i});try{for(var u=Object(o.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(o.e)(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=Object(o.g)(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,i=void 0===n?{}:n,o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:r(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=u),this.component?this.component.multipleInstances?e:u:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new c(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";(function(e){function r(e,t){function n(){this.constructor=e}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(){}function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e){return Object.prototype.hasOwnProperty.call(e,bn)&&e[bn]||(e[bn]=++wn)}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:l,f.apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function p(){this.s=this.s,this.o=this.o}function y(e){e:{for(var t=xt,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function m(e){return Array.prototype.concat.apply([],arguments)}function v(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e){return/^[\s\xa0]*$/.test(e)}function b(e,t){return-1!=e.indexOf(t)}function w(e,t){return e<t?-1:e>t?1:0}function _(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function E(e){var t={};for(var n in e)t[n]=e[n];return t}function T(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Cn.length;o++)n=Cn[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){return S[" "](e),e}function I(e){var t=Vn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function O(){var e=gn.document;return e?e.documentMode:void 0}function k(){return I(function(){for(var e=0,t=In(String(xn)).split("."),n=In("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=w(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||w(0==o[2].length,0==a[2].length)||w(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function x(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jn){e:{try{S(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&x.Z.h.call(this)}}function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Hn,this.ca=this.fa=!1}function A(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function D(e){this.src=e,this.g={},this.h=0}function P(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Tn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function j(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}function R(e,t,n,r,i){if(r&&r.once)return M(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)R(e,t[o],n,r,i);return null}return n=K(n),e&&e[Wn]?e.N(t,n,s(r)?!!r.capture:!!r,i):L(e,t,n,!1,r,i)}function L(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,u=z(e);if(u||(e[Gn]=u=new D(e)),n=u.add(t,n,r,a,o),n.proxy)return n;if(r=F(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(B(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function F(){function e(n){return t.call(e.src,e.listener,n)}var t=q;return e}function M(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)M(e,t[o],n,r,i);return null}return n=K(n),e&&e[Wn]?e.O(t,n,s(r)?!!r.capture:!!r,i):L(e,t,n,!0,r,i)}function U(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)U(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=K(n),e&&e[Wn]?(e=e.i,(t=String(t).toString())in e.g&&(o=e.g[t],-1<(n=j(o,n,r,i))&&(A(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=j(t,n,r,i)),(n=-1<e?t[e]:null)&&V(n))}function V(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Wn])P(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(B(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=z(t))?(P(n,e),0==n.h&&(n.src=null,t[Gn]=null)):A(e)}}}function B(e){return e in Qn?Qn[e]:Qn[e]="on"+e}function q(e,t){if(e.ca)e=!0;else{t=new x(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&V(e),e=n.call(r,t)}return e}function z(e){return e=e[Gn],e instanceof D?e:null}function K(e){return"function"===typeof e?e:(e[$n]||(e[$n]=function(t){return e.handleEvent(t)}),e[$n])}function W(){p.call(this),this.i=new D(this),this.P=this,this.I=null}function H(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;t=new C(r,e),T(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=G(a,r,!0,t)&&i}if(a=t.g=e,i=G(a,r,!0,t)&&i,i=G(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=G(a,r,!1,t)&&i}function G(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&P(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Q(){var e=nr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function $(e){gn.setTimeout(function(){throw e},0)}function Y(e,t){Yn||X(),tr||(Yn(),tr=!0),nr.add(e,t)}function X(){var e=gn.Promise.resolve(void 0);Yn=function(){e.then(J)}}function J(){for(var e;e=Q();){try{e.h.call(e.g)}catch(e){$(e)}var t=Zn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tr=!1}function Z(e,t){W.call(this),this.h=e||1,this.g=t||gn,this.j=f(this.kb,this),this.l=Date.now()}function ee(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function te(e,t,n){if("function"===typeof e)n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:gn.setTimeout(e,t||0)}function ne(e){e.g=te(function(){e.g=null,e.i&&(e.i=!1,ne(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function re(e){p.call(this),this.h=e,this.g={}}function ie(e,t,n,r){Array.isArray(n)||(n&&(ir[0]=n.toString()),n=ir);for(var i=0;i<n.length;i++){var o=R(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function oe(e){_(e.g,function(e,t){this.g.hasOwnProperty(t)&&V(e)},e),e.g={}}function ae(){this.g=!0}function se(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}function ue(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}function ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+fe(e,n)+(r?" "+r:"")})}function le(e,t){e.info(function(){return"TIMEOUT: "+t})}function fe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Xn(n)}catch(e){return t}}function he(){return ar=ar||new W}function de(e){C.call(this,or.Ma,e)}function pe(e){var t=he();H(t,new de(t,e))}function ye(e,t){C.call(this,or.STAT_EVENT,e),this.stat=t}function me(e){var t=he();H(t,new ye(t,e))}function ve(e,t){C.call(this,or.Na,e),this.size=t}function ge(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){e()},t)}function be(){}function we(e){return e.h||(e.h=e.i())}function _e(){}function Ee(){C.call(this,"d")}function Te(){C.call(this,"c")}function Se(){}function Ie(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new re(this),this.P=fr,e=Pn?125:void 0,this.W=new Z(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}function ke(e,t,n){e.K=1,e.v=Xe(We(t)),e.s=n,e.U=!0,Ce(e,null)}function Ce(e,t){e.F=Date.now(),De(e),e.A=We(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),st(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Oe,e.g=sn(e.l,n?t:null,!e.s),0<e.O&&(e.L=new rr(f(e.Ia,e,e.g),e.O)),ie(e.V,e.g,"readystatechange",e.gb),t=e.H?E(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pe(1),se(e.j,e.u,e.A,e.m,e.X,e.s)}function xe(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ne(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ae(e,n))==dr){4==t&&(e.o=4,me(14),i=!1),ce(e.j,e.m,null,"[Incomplete Response]");break}if(r==hr){e.o=4,me(15),ce(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ce(e.j,e.m,r,null),Fe(e,r)}xe(e)&&r!=dr&&r!=hr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,me(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(t),t.L=!0,me(11))):(ce(e.j,e.m,n,"[Invalid Chunked Response]"),Le(e),Re(e))}function Ae(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dr:(n=Number(t.substring(n,r)),isNaN(n)?hr:(r+=1)+n>t.length?dr:(t=t.substr(r,n),e.C=r+n,t))}function De(e){e.Y=Date.now()+e.P,Pe(e,e.P)}function Pe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ge(f(e.eb,e),t)}function je(e){e.B&&(gn.clearTimeout(e.B),e.B=null)}function Re(e){0==e.l.G||e.I||tn(e.l,e)}function Le(e){je(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ee(e.W),oe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Fe(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dt(n.i,e)))if(n.I=e.N,!e.J&&dt(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;en(n),qt(n)}Xt(n),me(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ge(f(n.ab,n),6e3));if(1>=ht(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else rn(n,11)}else if((e.J||n.g==e)&&en(n),!g(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(b(l,"spdy")||b(l,"quic")||b(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(pt(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ye(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=e;if(r.oa=an(r,r.H?r.la:null,r.W),p.J){yt(r.i,p);var y=p,m=r.K;m&&y.setTimeout(m),y.B&&(je(y),De(y)),r.g=p}else Yt(r);0<n.l.length&&Wt(n)}else"stop"!=o[0]&&"close"!=o[0]||rn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?rn(n,7):Bt(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}pe(4)}catch(o){}}function Me(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Ue(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Sn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(a(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Me(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ve(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ve)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Be(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];qe(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],qe(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ke(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ke){this.g=void 0!==t?t:e.g,He(this,e.j),this.s=e.s,Ge(this,e.i),Qe(this,e.m),this.l=e.l,t=e.h;var n=new rt;n.i=t.i,t.g&&(n.g=new Ve(t.g),n.h=t.h),$e(this,n),this.o=e.o}else e&&(n=String(e).match(pr))?(this.g=!!t,He(this,n[1]||"",!0),this.s=et(n[2]||""),Ge(this,n[3]||"",!0),Qe(this,n[4]),this.l=et(n[5]||"",!0),$e(this,n[6]||"",!0),this.o=et(n[7]||"")):(this.g=!!t,this.h=new rt(null,this.g))}function We(e){return new Ke(e)}function He(e,t,n){e.j=n?et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ge(e,t,n){e.i=n?et(t,!0):t}function Qe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $e(e,t,n){t instanceof rt?(e.h=t,ct(e.h,e.g)):(n||(t=tt(t,gr)),e.h=new rt(t,e.g))}function Ye(e,t,n){e.h.set(t,n)}function Xe(e){return Ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Je(e){return e instanceof Ke?We(e):new Ke(e,void 0)}function Ze(e,t,n,r){var i=new Ke(null,void 0);return e&&He(i,e),t&&Ge(i,t),n&&Qe(i,n),r&&(i.l=r),i}function et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,nt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function it(e){e.g||(e.g=new Ve,e.h=0,e.i&&ze(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ot(e,t){it(e),t=ut(e,t),qe(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,qe(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Be(e)))}function at(e,t){return it(e),t=ut(e,t),qe(e.g.h,t)}function st(e,t,n){ot(e,t),0<n.length&&(e.i=null,e.g.set(ut(e,t),v(n)),e.h+=n.length)}function ut(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ct(e,t){t&&!e.j&&(it(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ot(this,t),st(this,n,e))},e)),e.j=t}function lt(e){this.l=e||_r,gn.PerformanceNavigationTiming?(e=gn.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(gn.g&&gn.g.Ea&&gn.g.Ea()&&gn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ft(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ht(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pt(e,t){e.g?e.g.add(t):e.h=t}function yt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mt(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return v(e.i)}function vt(){}function gt(){this.g=new vt}function bt(e,t,n){var r=n||"";try{Ue(e,function(e,n){var i=e;s(e)&&(i=Xn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function wt(e,t){var n=new ae;if(gn.Image){var r=new Image;r.onload=h(_t,n,r,"TestLoadImage: loaded",!0,t),r.onerror=h(_t,n,r,"TestLoadImage: error",!1,t),r.onabort=h(_t,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=h(_t,n,r,"TestLoadImage: timeout",!1,t),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function _t(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Et(e){this.l=e.$b||null,this.j=e.ib||!1}function Tt(e,t){W.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Er,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function St(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function kt(e){W.call(this),this.headers=new Ve,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sr,this.K=this.L=!1}function Ct(e){return An&&k()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function xt(e){return"content-type"==e.toLowerCase()}function Nt(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,At(e),Pt(e)}function At(e){e.D||(e.D=!0,H(e,"complete"),H(e,"error"))}function Dt(e){if(e.h&&"undefined"!=typeof vn&&(!e.C[1]||4!=Rt(e)||2!=e.ba()))if(e.v&&4==Rt(e))te(e.Fa,0,e);else if(H(e,"readystatechange"),4==Rt(e)){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.H).match(pr)[1]||null;if(!o&&gn.self&&gn.self.location){var a=gn.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ir.test(o?o.toLowerCase():"")}r=i}if(r)H(e,"complete"),H(e,"success");else{e.m=6;try{var s=2<Rt(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",At(e)}}finally{Pt(e)}}}function Pt(e,t){if(e.g){jt(e);var n=e.g,r=e.C[0]?o:null;e.g=null,e.C=null,t||H(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function jt(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gn.clearTimeout(e.A),e.A=null)}function Rt(e){return e.g?e.g.readyState:0}function Lt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ft(e){var t="";return _(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ft(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ye(e,t,n))}function Ut(e,t,n){return n&&n.internalChannelParams?n.internalChannelParams[e]||t:t}function Vt(e){this.za=0,this.l=[],this.h=new ae,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ut("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ut("baseRetryDelayMs",5e3,e),this.$a=Ut("retryDelaySeedMs",1e4,e),this.Ya=Ut("forwardChannelMaxRetries",2,e),this.ra=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lt(e&&e.concurrentRequestLimit),this.Ca=new gt,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bt(e){if(zt(e),3==e.G){var t=e.V++,n=We(e.F);Ye(n,"SID",e.J),Ye(n,"RID",t),Ye(n,"TYPE","terminate"),Qt(e,n),t=new Ie(e,e.h,t,void 0),t.K=2,t.v=Xe(We(n)),n=!1,gn.navigator&&gn.navigator.sendBeacon&&(n=gn.navigator.sendBeacon(t.v.toString(),"")),!n&&gn.Image&&((new Image).src=t.v,n=!0),n||(t.g=sn(t.l,null),t.g.ea(t.v)),t.F=Date.now(),De(t)}on(e)}function qt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function zt(e){qt(e),e.u&&(gn.clearTimeout(e.u),e.u=null),en(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gn.clearTimeout(e.m),e.m=null)}function Kt(e,t){e.l.push(new wr(e.Za++,t)),3==e.G&&Wt(e)}function Wt(e){ft(e.i)||e.m||(e.m=!0,Y(e.Ha,e),e.C=0)}function Ht(e,t){return!(ht(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ge(f(e.Ha,e,t),nn(e,e.C)),e.C++,!0))}function Gt(e,t){var n;n=t?t.m:e.V++;var r=We(e.F);Ye(r,"SID",e.J),Ye(r,"RID",n),Ye(r,"AID",e.U),Qt(e,r),e.o&&e.s&&Mt(r,e.o,e.s),n=new Ie(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$t(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pt(e.i,n),ke(n,r,t)}function Qt(e,t){e.j&&Ue({},function(e,n){Ye(t,n,e)})}function $t(e,t,n){n=Math.min(e.l.length,n);var r=e.j?f(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{bt(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yt(e){e.g||e.u||(e.Y=1,Y(e.Ga,e),e.A=0)}function Xt(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ge(f(e.Ga,e),nn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(gn.clearTimeout(e.B),e.B=null)}function Zt(e){e.g=new Ie(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=We(e.oa);Ye(t,"RID","rpc"),Ye(t,"SID",e.J),Ye(t,"CI",e.N?"0":"1"),Ye(t,"AID",e.U),Qt(e,t),Ye(t,"TYPE","xmlhttp"),e.o&&e.s&&Mt(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xe(We(t)),n.s=null,n.U=!0,Ce(n,e)}function en(e){null!=e.v&&(gn.clearTimeout(e.v),e.v=null)}function tn(e,t){var n=null;if(e.g==t){en(e),Jt(e),e.g=null;var r=2}else{if(!dt(e.i,t))return;n=t.D,yt(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=he(),H(r,new ve(r,n,t,i)),Wt(e)}else Yt(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&Ht(e,t)||2==r&&Xt(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rn(e,5);break;case 4:rn(e,10);break;case 3:rn(e,6);break;default:rn(e,2)}}function nn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=f(e.jb,e);n||(n=new Ke("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||He(n,"https"),Xe(n)),wt(n.toString(),r)}else me(2);e.G=0,e.j&&e.j.va(t),on(e),zt(e)}function on(e){e.G=0,e.I=-1,e.j&&(0==mt(e.i).length&&0==e.l.length||(e.i.i.length=0,v(e.l),e.l.length=0),e.j.ua())}function an(e,t,n){var r=Je(n);if(""!=r.i)t&&Ge(r,t+"."+r.i),Qe(r,r.m);else{var i=gn.location;r=Ze(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&_(e.aa,function(e,t){Ye(r,t,e)}),t=e.D,n=e.sa,t&&n&&Ye(r,t,n),Ye(r,"VER",e.ma),Qt(e,r),r}function sn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=new kt(n&&e.Ba&&!e.qa?new Et({ib:!0}):e.qa),t.L=e.H,t}function un(){}function cn(){if(An&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function ln(e,t){W.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!g(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!g(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new dn(this)}function fn(e){Ee.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){Te.call(this),this.status=1}function dn(e){this.g=e}n.d(t,"a",function(){return xr}),n.d(t,"b",function(){return Ar}),n.d(t,"c",function(){return Nr}),n.d(t,"d",function(){return Pr}),n.d(t,"e",function(){return Dr}),n.d(t,"f",function(){return jr}),n.d(t,"g",function(){return Rr}),n.d(t,"h",function(){return kr}),n.d(t,"i",function(){return Cr});var pn,yn=function(e,t){return(yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},mn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},vn=vn||{},gn=mn||self,bn="closure_uid_"+(1e9*Math.random()>>>0),wn=0,_n={};p.prototype.s=!1,p.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),!1)){var e=u(this);delete _n[e]}},p.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var En,Tn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Sn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},In=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};e:{var On=gn.navigator;if(On){var kn=On.userAgent;if(kn){En=kn;break e}}En=""}var Cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");S[" "]=o;var xn,Nn=b(En,"Opera"),An=b(En,"Trident")||b(En,"MSIE"),Dn=b(En,"Edge"),Pn=Dn||An,jn=b(En,"Gecko")&&!(b(En.toLowerCase(),"webkit")&&!b(En,"Edge"))&&!(b(En,"Trident")||b(En,"MSIE"))&&!b(En,"Edge"),Rn=b(En.toLowerCase(),"webkit")&&!b(En,"Edge");e:{var Ln="",Fn=function(){var e=En;return jn?/rv:([^\);]+)(\)|;)/.exec(e):Dn?/Edge\/([\d\.]+)/.exec(e):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rn?/WebKit\/(\S+)/.exec(e):Nn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fn&&(Ln=Fn?Fn[1]:""),An){var Mn=O();if(null!=Mn&&Mn>parseFloat(Ln)){xn=String(Mn);break e}}xn=Ln}var Un,Vn={};if(gn.document&&An){var Bn=O();Un=Bn||(parseInt(xn,10)||void 0)}else Un=void 0;var qn=Un,zn=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gn.addEventListener("test",o,t),gn.removeEventListener("test",o,t)}catch(e){}return e}();C.prototype.h=function(){this.defaultPrevented=!0},d(x,C);var Kn={2:"touch",3:"pen",4:"mouse"};x.prototype.h=function(){x.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;D.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=j(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new N(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};var Gn="closure_lm_"+(1e6*Math.random()|0),Qn={},$n="__closure_events_fn_"+(1e9*Math.random()>>>0);d(W,p),W.prototype[Wn]=!0,W.prototype.removeEventListener=function(e,t,n,r){U(this,e,t,n,r)},W.prototype.M=function(){if(W.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)A(n[r]);delete t.g[e],t.h--}}this.I=null},W.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},W.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yn,Xn=gn.JSON.stringify,Jn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Zn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Zn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new er},function(e){return e.reset()}),er=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}(),tr=!1,nr=new Jn;d(Z,W),pn=Z.prototype,pn.da=!1,pn.S=null,pn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),H(this,"tick"),this.da&&(ee(this),this.start()))}},pn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pn.M=function(){Z.Z.M.call(this),ee(this),delete this.g};var rr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return r(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ne(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(p);d(re,p);var ir=[];re.prototype.M=function(){re.Z.M.call(this),oe(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ae.prototype.Aa=function(){this.g=!1},ae.prototype.info=function(){};var or={},ar=null;or.Ma="serverreachability",d(de,C),or.STAT_EVENT="statevent",d(ye,C),or.Na="timingevent",d(ve,C);var sr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};be.prototype.h=null;var cr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};d(Ee,C),d(Te,C);var lr;d(Se,be),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},lr=new Se;var fr=45e3,hr={},dr={};pn=Ie.prototype,pn.setTimeout=function(e){this.P=e},pn.gb=function(e){e=e.target;var t=this.L;t&&3==Rt(e)?t.l():this.Ia(e)},pn.Ia=function(e){try{if(e==this.g)e:{var t=Rt(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Pn||this.g&&(this.h.h||this.g.ga()||Lt(this.g)))){this.I||4!=t||7==n||pe(8==n||0>=r?3:2),je(this);var i=this.g.ba();this.N=i;t:if(xe(this)){var o=Lt(this.g);e="";var a=o.length,s=4==Rt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Le(this),Re(this);var u="";break t}this.h.i=new gn.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,ue(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,me(12),Le(this),Re(this);break e}ce(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fe(this,i)}this.U?(Ne(this,t,u),Pn&&this.i&&3==t&&(ie(this.V,this.W,"tick",this.fb),this.W.start())):(ce(this.j,this.m,u,null),Fe(this,u)),4==t&&Le(this),this.i&&!this.I&&(4==t?tn(this.l,this):(this.i=!1,De(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,me(12)):(this.o=0,me(13)),Le(this),Re(this)}}}catch(t){}},pn.fb=function(){if(this.g){var e=Rt(this.g),t=this.g.ga();this.C<t.length&&(je(this),Ne(this,e,t),this.i&&4!=e&&De(this))}},pn.cancel=function(){this.I=!0,Le(this)},pn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(le(this.j,this.A),2!=this.K&&(pe(3),me(17)),Le(this),this.o=2,Re(this)):Pe(this,this.Y-e)},pn=Ve.prototype,pn.R=function(){Be(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},pn.T=function(){return Be(this),this.g.concat()},pn.get=function(e,t){return qe(this.h,e)?this.h[e]:t},pn.set=function(e,t){qe(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},pn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var pr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Ke.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tt(t,yr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tt(t,yr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tt(n,"/"==n.charAt(0)?vr:mr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tt(n,br)),e.join("")};var yr=/[#\/\?@]/g,mr=/[#\?:]/g,vr=/[#\?]/g,gr=/[#\?@]/g,br=/#/g;pn=rt.prototype,pn.add=function(e,t){it(this),this.i=null,e=ut(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pn.forEach=function(e,t){it(this),this.g.forEach(function(n,r){Sn(n,function(n){e.call(t,n,r,this)},this)},this)},pn.T=function(){it(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},pn.R=function(e){it(this);var t=[];if("string"===typeof e)at(this,e)&&(t=m(t,this.g.get(ut(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=m(t,e[n])}return t},pn.set=function(e,t){return it(this),this.i=null,e=ut(this,e),at(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pn.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},pn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var wr=function(){function e(e,t){this.h=e,this.g=t}return e}(),_r=10;lt.prototype.cancel=function(){var e,t;if(this.i=mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},vt.prototype.stringify=function(e){return gn.JSON.stringify(e,void 0)},vt.prototype.parse=function(e){return gn.JSON.parse(e,void 0)},d(Et,be),Et.prototype.g=function(){return new Tt(this.l,this.j)},Et.prototype.i=function(e){return function(){return e}}({}),d(Tt,W);var Er=0;pn=Tt.prototype,pn.open=function(e,t){if(this.readyState!=Er)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ot(this)},pn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},pn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=Er},pn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof gn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;St(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},pn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Ot(this),3==this.readyState&&St(this)}},pn.Ua=function(e){this.g&&(this.response=this.responseText=e,It(this))},pn.Ta=function(e){this.g&&(this.response=e,It(this))},pn.ha=function(){this.g&&It(this)},pn.setRequestHeader=function(e,t){this.v.append(e,t)},pn.getResponseHeader=function(e){return this.h?this.h.get(e.toLowerCase())||"":""},pn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tr=gn.JSON.parse;d(kt,W);var Sr="",Ir=/^https?$/i,Or=["POST","PUT"];pn=kt.prototype,pn.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lr.g(),this.C=we(this.u?this.u:lr),this.g.onreadystatechange=f(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Nt(this,e)}e=n||"";var i=new Ve(this.headers);r&&Ue(r,function(e,t){i.set(t,e)}),r=y(i.T()),n=gn.FormData&&e instanceof gn.FormData,!(0<=Tn(Or,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jt(this),0<this.B&&((this.K=Ct(this.g))?(this.g.timeout=this.B,this.g.ontimeout=f(this.pa,this)):this.A=te(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Nt(this,e)}},pn.pa=function(){"undefined"!=typeof vn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,H(this,"timeout"),this.abort(8))},pn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,H(this,"complete"),H(this,"abort"),Pt(this))},pn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pt(this,!0)),kt.Z.M.call(this)},pn.Fa=function(){this.s||(this.F||this.v||this.l?Dt(this):this.cb())},pn.cb=function(){Dt(this)},pn.ba=function(){try{return 2<Rt(this)?this.g.status:-1}catch(e){return-1}},pn.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},pn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tr(t)}},pn.Da=function(){return this.m},pn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},pn=Vt.prototype,pn.ma=8,pn.G=1,pn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},pn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ie(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=E(n),T(n,this.P)):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$t(this,t,r),i=We(this.F),Ye(i,"RID",e),Ye(i,"CVER",22),this.D&&Ye(i,"X-HTTP-Session-Id",this.D),Qt(this,i),this.o&&n&&Mt(i,this.o,n),pt(this.i,t),this.Ra&&Ye(i,"TYPE","init"),this.ja?(Ye(i,"$req",r),Ye(i,"SID","null"),t.$=!0,ke(t,i,null)):ke(t,i,r),this.G=2}}else 3==this.G&&(e?Gt(this,e):0==this.l.length||ft(this.i)||Gt(this))},pn.Ga=function(){if(this.u=null,Zt(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ge(f(this.bb,this),e)}},pn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,me(10),qt(this),Zt(this))},pn.ab=function(){null!=this.v&&(this.v=null,qt(this),Xt(this),me(19))},pn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),me(2)):(this.h.info("Failed to ping google.com"),me(1))},pn=un.prototype,pn.xa=function(){},pn.wa=function(){},pn.va=function(){},pn.ua=function(){},pn.Oa=function(){},cn.prototype.g=function(e,t){return new ln(e,t)},d(ln,W),ln.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Y(f(e.hb,e,t))),me(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=an(e,null,e.W),Wt(e)},ln.prototype.close=function(){Bt(this.g)},ln.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kt(this.g,t)}else this.v?(t={},t.__data__=Xn(e),Kt(this.g,t)):Kt(this.g,e)},ln.prototype.M=function(){this.g.j=null,delete this.j,Bt(this.g),delete this.g,ln.Z.M.call(this)},d(fn,Ee),d(hn,Te),d(dn,un),dn.prototype.xa=function(){H(this.g,"a")},dn.prototype.wa=function(e){H(this.g,new fn(e))},dn.prototype.va=function(e){H(this.g,new hn(e))},dn.prototype.ua=function(){H(this.g,"b")},cn.prototype.createWebChannel=cn.prototype.g,ln.prototype.send=ln.prototype.u,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,ur.COMPLETE="complete",_e.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",W.prototype.listen=W.prototype.N,kt.prototype.listenOnce=kt.prototype.O,kt.prototype.getLastError=kt.prototype.La,kt.prototype.getLastErrorCode=kt.prototype.Da,kt.prototype.getStatus=kt.prototype.ba,kt.prototype.getResponseJson=kt.prototype.Qa,kt.prototype.getResponseText=kt.prototype.ga,kt.prototype.send=kt.prototype.ea;var kr=function(){return new cn},Cr=function(){return he()},xr=sr,Nr=ur,Ar=or,Dr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Pr=Et,jr=_e,Rr=kt}).call(t,n(3))},function(e,t,n){n(11),e.exports=n(16)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(12).enable(),window.Promise=n(14)),n(15),Object.assign=n(4)},function(e,t,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=l++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(7),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof t?t:self,f=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(3))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(7);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return l;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function y(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];m.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(18),a=n.n(o),s=n(22),u=(n.n(s),n(23)),c=n(35);a.a.render(i.a.createElement(u.a,null),document.getElementById("root")),Object(c.a)()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;e=Error(t.replace(/%s/g,function(){return u[c++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||P}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||P}function u(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)F.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:T,type:e,key:o,ref:a,props:i,_owner:L.current}}function c(e,t){return{$$typeof:T,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l(e){return"object"===typeof e&&null!==e&&e.$$typeof===T}function f(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,n,r){if(V.length){var i=V.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>V.length&&V.push(e)}function p(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case T:case S:a=!0}}if(a)return n(r,e,""===t?"."+m(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+m(o,s);a+=p(o,u,n,r)}else if(null===e||"object"!==typeof e?u=null:(u=D&&e[D]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+m(o,s++),a+=p(o,u,n,r);else"object"===o&&(n=""+e,i("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function y(e,t,n){return null==e?0:p(e,"",t,n)}function m(e,t){return"object"===typeof e&&null!==e&&null!=e.key?f(e.key):t.toString(36)}function v(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?b(e,r,n,function(e){return e}):null!=e&&(l(e)&&(e=c(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(U,"$&/")+"/")+n)),r.push(e))}function b(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(U,"$&/")+"/"),t=h(t,o,r,i),y(e,g,t),d(t)}function w(e,t){var n=L.currentDispatcher;return null===n&&i("277"),n.readContext(e,t)}var _=n(4),E="function"===typeof Symbol&&Symbol.for,T=E?Symbol.for("react.element"):60103,S=E?Symbol.for("react.portal"):60106,I=E?Symbol.for("react.fragment"):60107,O=E?Symbol.for("react.strict_mode"):60108,k=E?Symbol.for("react.profiler"):60114,C=E?Symbol.for("react.provider"):60109,x=E?Symbol.for("react.context"):60110,N=E?Symbol.for("react.async_mode"):60111,A=E?Symbol.for("react.forward_ref"):60112;E&&Symbol.for("react.placeholder");var D="function"===typeof Symbol&&Symbol.iterator,P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j={};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var R=s.prototype=new a;R.constructor=s,_(R,o.prototype),R.isPureReactComponent=!0;var L={current:null,currentDispatcher:null},F=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},U=/\/+/g,V=[],B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return b(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=h(null,null,t,n),y(e,v,t),d(t)},count:function(e){return y(e,function(){return null},null)},toArray:function(e){var t=[];return b(e,t,null,function(e){return e}),t},only:function(e){return l(e)||i("143"),e}},createRef:function(){return{current:null}},Component:o,PureComponent:s,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:x,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null,unstable_read:null},e.Provider={$$typeof:C,_context:e},e.Consumer=e,e.unstable_read=w.bind(null,e),e},forwardRef:function(e){return{$$typeof:A,render:e}},Fragment:I,StrictMode:O,unstable_AsyncMode:N,unstable_Profiler:k,createElement:u,cloneElement:function(e,t,n){(null===e||void 0===e)&&i("267",e);var r=void 0,o=_({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=L.current),void 0!==t.key&&(a=""+t.key);var c=void 0;e.type&&e.type.defaultProps&&(c=e.type.defaultProps);for(r in t)F.call(t,r)&&!M.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){c=Array(r);for(var l=0;l<r;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:T,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:L,assign:_}},q={default:B},z=q&&B||q;e.exports=z.default||z},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(19)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;e=Error(t.replace(/%s/g,function(){return u[c++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}function a(e,t,n,r,i,a,s,u,c){Er=!1,Tr=null,o.apply(Or,arguments)}function s(e,t,n,r,o,s,u,c,l){if(a.apply(this,arguments),Er){if(Er){var f=Tr;Er=!1,Tr=null}else i("198"),f=void 0;Sr||(Sr=!0,Ir=f)}}function u(){if(kr)for(var e in Cr){var t=Cr[e],n=kr.indexOf(e);if(-1<n||i("96",e),!xr[n]){t.extractEvents||i("97",e),xr[n]=t,n=t.eventTypes;for(var r in n){var o=void 0,a=n[r],s=t,u=r;Nr.hasOwnProperty(u)&&i("99",u),Nr[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;o||i("98",r,e)}}}}function c(e,t,n){Ar[e]&&i("100",e),Ar[e]=t,Dr[e]=t.eventTypes[n].dependencies}function l(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=Rr(r),s(t,n,void 0,e),e.currentTarget=null}function f(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function d(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)l(e,t,n[i],r[i]);else n&&l(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function p(e){return d(e,!0)}function y(e){return d(e,!1)}function m(e,t){var n=e.stateNode;if(!n)return null;var r=Pr(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&i("231",t,typeof n),n)}function v(e,t){if(null!==e&&(Lr=f(Lr,e)),e=Lr,Lr=null,e&&(t?h(e,p):h(e,y),Lr&&i("95"),Sr))throw t=Ir,Sr=!1,Ir=null,t}function g(e){if(e[Ur])return e[Ur];for(;!e[Ur];){if(!e.parentNode)return null;e=e.parentNode}return e=e[Ur],7===e.tag||8===e.tag?e:null}function b(e){return e=e[Ur],!e||7!==e.tag&&8!==e.tag?null:e}function w(e){if(7===e.tag||8===e.tag)return e.stateNode;i("33")}function _(e){return e[Vr]||null}function E(e){do{e=e.return}while(e&&7!==e.tag);return e||null}function T(e,t,n){(t=m(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function S(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=E(t);for(t=n.length;0<t--;)T(n[t],"captured",e);for(t=0;t<n.length;t++)T(n[t],"bubbled",e)}}function I(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=m(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function O(e){e&&e.dispatchConfig.registrationName&&I(e._targetInst,null,e)}function k(e){h(e,S)}function C(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function x(e){if(zr[e])return zr[e];if(!qr[e])return e;var t,n=qr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Kr)return zr[e]=n[t];return e}function N(){if(Jr)return Jr;var e,t,n=Xr,r=n.length,i="value"in Yr?Yr.value:Yr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jr=i.slice(e,1<t?1-t:void 0)}function A(){return!0}function D(){return!1}function P(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?A:D,this.isPropagationStopped=D,this}function j(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function R(e){e instanceof this||i("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function L(e){e.eventPool=[],e.getPooled=j,e.release=R}function F(e,t){switch(e){case"keyup":return-1!==ti.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function M(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function U(e,t){switch(e){case"compositionend":return M(t);case"keypress":return 32!==t.which?null:(ui=!0,ai);case"textInput":return e=t.data,e===ai&&ui?null:e;default:return null}}function V(e,t){if(ci)return"compositionend"===e||!ni&&F(e,t)?(e=N(),Jr=Xr=Yr=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oi&&"ko"!==t.locale?null:t.data;default:return null}}function B(e){if(e=jr(e)){"function"!==typeof fi&&i("280");var t=Pr(e.stateNode);fi(e.stateNode,e.type,t)}}function q(e){hi?di?di.push(e):di=[e]:hi=e}function z(){if(hi){var e=hi,t=di;if(di=hi=null,B(e),t)for(e=0;e<t.length;e++)B(t[e])}}function K(e,t){return e(t)}function W(e,t,n){return e(t,n)}function H(){}function G(e,t){if(pi)return e(t);pi=!0;try{return K(e,t)}finally{pi=!1,(null!==hi||null!==di)&&(H(),z())}}function Q(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!yi[e.type]:"textarea"===t}function $(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Y(e){if(!Br)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Z(e){e._valueTracker||(e._valueTracker=J(e))}function ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function te(e){return null===e||"object"!==typeof e?null:(e=xi&&e[xi]||e["@@iterator"],"function"===typeof e?e:null)}function ne(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Oi:return"AsyncMode";case _i:return"Fragment";case wi:return"Portal";case Ti:return"Profiler";case Ei:return"StrictMode";case Ci:return"Placeholder"}if("object"===typeof e){switch(e.$$typeof){case Ii:return"Context.Consumer";case Si:return"Context.Provider";case ki:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef")}if("function"===typeof e.then&&(e=1===e._reactStatus?e._reactResult:null))return ne(e)}return null}function re(e){var t="";do{e:switch(e.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=e._debugOwner,r=e._debugSource,i=ne(e.type),o=null;n&&(o=ne(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(vi,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break e;default:o=""}t+=o,e=e.return}while(e);return t}function ie(e){return!!Ai.call(Pi,e)||!Ai.call(Di,e)&&(Ni.test(e)?Pi[e]=!0:(Di[e]=!0,!1))}function oe(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ae(e,t,n,r){if(null===t||"undefined"===typeof t||oe(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function se(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function ue(e){return e[1].toUpperCase()}function ce(e,t,n,r){var i=ji.hasOwnProperty(t)?ji[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(ae(t,n,i,r)&&(n=null),r||null===i?ie(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function le(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function fe(e,t){var n=t.checked;return wr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function he(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=le(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){null!=(t=t.checked)&&ce(e,"checked",t,!1)}function pe(e,t){de(e,t);var n=le(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?me(e,t.type,n):t.hasOwnProperty("defaultValue")&&me(e,t.type,le(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function me(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ve(e,t,n){return e=P.getPooled(Li.change,e,t,n),e.type="change",q(n),k(e),e}function ge(e){v(e,!1)}function be(e){if(ee(w(e)))return e}function we(e,t){if("change"===e)return t}function _e(){Fi&&(Fi.detachEvent("onpropertychange",Ee),Mi=Fi=null)}function Ee(e){"value"===e.propertyName&&be(Mi)&&(e=ve(Mi,e,$(e)),G(ge,e))}function Te(e,t,n){"focus"===e?(_e(),Fi=t,Mi=n,Fi.attachEvent("onpropertychange",Ee)):"blur"===e&&_e()}function Se(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return be(Mi)}function Ie(e,t){if("click"===e)return be(t)}function Oe(e,t){if("input"===e||"change"===e)return be(t)}function ke(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qi[e])&&!!t[e]}function Ce(){return ke}function xe(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Ne(e,t){if(xe(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Xi.call(t,n[r])||!xe(e[n[r]],t[n[r]]))return!1;return!0}function Ae(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 5===t.tag?2:3}function De(e){2!==Ae(e)&&i("188")}function Pe(e){var t=e.alternate;if(!t)return t=Ae(e),3===t&&i("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return De(o),e;if(s===r)return De(o),t;s=s.sibling}i("188")}if(n.return!==r.return)n=o,r=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}s||i("189")}}n.alternate!==r&&i("190")}return 5!==n.tag&&i("188"),n.stateNode.current===n?e:t}function je(e){if(!(e=Pe(e)))return null;for(var t=e;;){if(7===t.tag||8===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Re(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Le(e,t){var n=e[0];e=e[1];var r="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},co[e]=t,lo[n]=t}function Fe(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=5!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=g(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=$(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<xr.length;s++){var u=xr[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=f(a,u))}v(a,!1)}}function Me(e,t){if(!t)return null;var n=(ho(e)?Ve:Be).bind(null,e);t.addEventListener(e,n,!1)}function Ue(e,t){if(!t)return null;var n=(ho(e)?Ve:Be).bind(null,e);t.addEventListener(e,n,!0)}function Ve(e,t){W(Be,e,t)}function Be(e,t){if(yo){var n=$(t);if(n=g(n),null===n||"number"!==typeof n.tag||2===Ae(n)||(n=null),po.length){var r=po.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{G(Fe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>po.length&&po.push(e)}}}function qe(e){return Object.prototype.hasOwnProperty.call(e,go)||(e[go]=vo++,mo[e[go]]={}),mo[e[go]]}function ze(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ke(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function We(e,t){var n=Ke(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ke(n)}}function He(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?He(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ge(){for(var e=window,t=ze();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=ze(e.document)}return t}function Qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function $e(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return So||null==_o||_o!==ze(n)?null:(n=_o,"selectionStart"in n&&Qe(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),To&&Ne(To,n)?null:(To=n,e=P.getPooled(wo.select,Eo,e,t),e.type="select",e.target=_o,k(e),e))}function Ye(e){var t="";return br.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function Xe(e,t){return e=wr({children:void 0},t),(t=Ye(t.children))&&(e.children=t),e}function Je(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+le(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ze(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),wr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function et(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&i("92"),Array.isArray(t)&&(1>=t.length||i("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:le(n)}}function tt(e,t){var n=le(t.value),r=le(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function nt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function rt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function ot(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function at(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||xo.hasOwnProperty(i)&&xo[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function st(e,t){t&&(Ao[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&i("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&i("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||i("61")),null!=t.style&&"object"!==typeof t.style&&i("62",""))}function ut(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ct(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=qe(e);t=Dr[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Ue("scroll",e);break;case"focus":case"blur":Ue("focus",e),Ue("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Y(i)&&Ue(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===$r.indexOf(i)&&Me(i,e)}n[i]=!0}}}function lt(){}function ft(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ht(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function dt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function pt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function yt(e){0>Ro||(e.current=jo[Ro],jo[Ro]=null,Ro--)}function mt(e,t){Ro++,jo[Ro]=e.current,e.current=t}function vt(e,t){var n=e.type.contextTypes;if(!n)return Lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bt(e){yt(Mo,e),yt(Fo,e)}function wt(e){yt(Mo,e),yt(Fo,e)}function _t(e,t,n){Fo.current!==Lo&&i("168"),mt(Fo,t,e),mt(Mo,n,e)}function Et(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;r=r.getChildContext();for(var o in r)o in e||i("108",ne(t)||"Unknown",o);return wr({},n,r)}function Tt(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Lo,Uo=Fo.current,mt(Fo,t,e),mt(Mo,Mo.current,e),!0}function St(e,t,n){var r=e.stateNode;r||i("169"),n?(t=Et(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=t,yt(Mo,e),yt(Fo,e),mt(Fo,t,e)):yt(Mo,e),mt(Mo,n,e)}function It(e){return function(t){try{return e(t)}catch(e){}}}function Ot(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vo=It(function(e){return t.onCommitFiberRoot(n,e)}),Bo=It(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function kt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ct(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xt(e,t,n){var r=e.alternate;return null===r?(r=new kt(e.tag,t,e.key,e.mode),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=t!==e.pendingProps?n:e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.firstContextDependency=e.firstContextDependency,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nt(e,t,n){var r=e.type,o=e.key;e=e.props;var a=void 0;if("function"===typeof r)a=Ct(r)?2:4;else if("string"===typeof r)a=7;else e:switch(r){case _i:return At(e.children,t,n,o);case Oi:a=10,t|=3;break;case Ei:a=10,t|=2;break;case Ti:return r=new kt(15,e,o,4|t),r.type=Ti,r.expirationTime=n,r;case Ci:a=16;break;default:if("object"===typeof r&&null!==r)switch(r.$$typeof){case Si:a=12;break e;case Ii:a=11;break e;case ki:a=13;break e;default:if("function"===typeof r.then){a=4;break e}}i("130",null==r?r:typeof r,"")}return t=new kt(a,e,o,t),t.type=r,t.expirationTime=n,t}function At(e,t,n,r){return e=new kt(9,e,r,t),e.expirationTime=n,e}function Dt(e,t,n){return e=new kt(8,e,null,t),e.expirationTime=n,e}function Pt(e,t,n){return t=new kt(6,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jt(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n>t?e.earliestPendingTime=t:e.latestPendingTime<t&&(e.latestPendingTime=t),Rt(t,e)}function Rt(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;i=0!==i?i:o,0===i&&(0===e||r>e)&&(i=r),e=i,0!==e&&0!==n&&n<e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function Lt(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ft(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Mt(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Ut(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Vt(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Lt(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Lt(e.memoizedState),i=n.updateQueue=Lt(n.memoizedState)):r=e.updateQueue=Ft(i):null===i&&(i=n.updateQueue=Ft(r));null===i||r===i?Ut(r,t):null===r.lastUpdate||null===i.lastUpdate?(Ut(r,t),Ut(i,t)):(Ut(r,t),i.lastUpdate=t)}function Bt(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=Lt(e.memoizedState):qt(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function qt(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ft(t)),t}function zt(e,t,n,r,i,o){switch(n.tag){case 1:return e=n.payload,"function"===typeof e?e.call(o,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(e=n.payload,null===(i="function"===typeof e?e.call(o,r,i):e)||void 0===i)break;return wr({},r,i);case 2:qo=!0}return r}function Kt(e,t,n,r,i){qo=!1,t=qt(e,t);for(var o=t.baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l>i?(null===a&&(a=u,o=c),(0===s||s>l)&&(s=l)):(c=zt(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f>i?(null===l&&(l=u,null===a&&(o=c)),(0===s||s>f)&&(s=f)):(c=zt(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function Wt(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Ht(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Ht(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Ht(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&i("191",n),n.call(r)}e=e.nextEffect}}function Gt(e,t){return{value:e,source:t,stack:re(t)}}function Qt(e,t){var n=e.type._context;mt(zo,n._currentValue,e),n._currentValue=t}function $t(e){var t=zo.current;yt(zo,e),e.type._context._currentValue=t}function Yt(e){Ko=e,Ho=Wo=null,e.firstContextDependency=null}function Xt(e,t){return Ho!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ho=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Wo?(null===Ko&&i("277"),Ko.firstContextDependency=Wo=t):Wo=Wo.next=t),e._currentValue}function Jt(e){return e===Go&&i("174"),e}function Zt(e,t){mt(Yo,t,e),mt($o,e,e),mt(Qo,Go,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:it(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=it(t,n)}yt(Qo,e),mt(Qo,t,e)}function en(e){yt(Qo,e),yt($o,e),yt(Yo,e)}function tn(e){Jt(Yo.current);var t=Jt(Qo.current),n=it(t,e.type);t!==n&&(mt($o,e,e),mt(Qo,n,e))}function nn(e){$o.current===e&&(yt(Qo,e),yt($o,e))}function rn(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:wr({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}function on(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ne(n,r)||!Ne(i,o))}function an(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jo.enqueueReplaceState(t,t.state,null)}function sn(e,t,n,r){var i=e.stateNode,o=gt(t)?Uo:Fo.current;i.props=n,i.state=e.memoizedState,i.refs=Xo,i.context=vt(e,o),o=e.updateQueue,null!==o&&(Kt(e,o,n,i,r),i.state=e.memoizedState),o=t.getDerivedStateFromProps,"function"===typeof o&&(rn(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Jo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Kt(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}function un(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&3!==n.tag&&i("110"),r=n.stateNode),r||i("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===Xo&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}"string"!==typeof e&&i("284"),n._owner||i("254",e)}return e}function cn(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ln(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=xt(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||8!==t.tag?(t=Dt(n,e.mode,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.type===n.type?(r=o(t,n.props,r),r.ref=un(e,t,n),r.return=e,r):(r=Nt(n,e.mode,r),r.ref=un(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||6!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Pt(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function f(e,t,n,r,i){return null===t||9!==t.tag?(t=At(n,e.mode,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=Dt(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case bi:return n=Nt(t,e.mode,n),n.ref=un(e,null,t),n.return=e,n;case wi:return t=Pt(t,e.mode,n),t.return=e,t}if(Zo(t)||te(t))return t=At(t,e.mode,n,null),t.return=e,t;cn(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===_i?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case wi:return n.key===i?l(e,t,n,r):null}if(Zo(n)||te(n))return null!==i?null:f(e,t,n,r,null);cn(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case bi:return e=e.get(null===r.key?n:r.key)||null,r.type===_i?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case wi:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(Zo(r)||te(r))return e=e.get(n)||null,f(t,e,r,i,null);cn(t,r)}return null}function y(i,o,s,u){for(var c=null,l=null,f=o,y=o=0,m=null;null!==f&&y<s.length;y++){f.index>y?(m=f,f=null):m=f.sibling;var v=d(i,f,s[y],u);if(null===v){null===f&&(f=m);break}e&&f&&null===v.alternate&&t(i,f),o=a(v,o,y),null===l?c=v:l.sibling=v,l=v,f=m}if(y===s.length)return n(i,f),c;if(null===f){for(;y<s.length;y++)(f=h(i,s[y],u))&&(o=a(f,o,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<s.length;y++)(m=p(f,i,y,s[y],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?y:m.key),o=a(m,o,y),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(i,e)}),c}function m(o,s,u,c){var l=te(u);"function"!==typeof l&&i("150"),null==(u=l.call(u))&&i("151");for(var f=l=null,y=s,m=s=0,v=null,g=u.next();null!==y&&!g.done;m++,g=u.next()){y.index>m?(v=y,y=null):v=y.sibling;var b=d(o,y,g.value,c);if(null===b){y||(y=v);break}e&&y&&null===b.alternate&&t(o,y),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,y=v}if(g.done)return n(o,y),l;if(null===y){for(;!g.done;m++,g=u.next())null!==(g=h(o,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(y=r(o,y);!g.done;m++,g=u.next())null!==(g=p(y,o,m,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach(function(e){return t(o,e)}),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_i&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case bi:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(9===c.tag?a.type===_i:c.type===a.type){n(e,c.sibling),r=o(c,a.type===_i?a.props.children:a.props,u),r.ref=un(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_i?(r=At(a.props.children,e.mode,u,a.key),r.return=e,e=r):(u=Nt(a,e.mode,u),u.ref=un(e,r,a),u.return=e,e=u)}return s(e);case wi:e:{for(c=a.key;null!==r;){if(r.key===c){if(6===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),r=o(r,a.children||[],u),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=Pt(a,e.mode,u),r.return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&8===r.tag?(n(e,r.sibling),r=o(r,a,u),r.return=e,e=r):(n(e,r),r=Dt(a,e.mode,u),r.return=e,e=r),s(e);if(Zo(a))return y(e,r,a,u);if(te(a))return m(e,r,a,u);if(l&&cn(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 2:case 3:case 0:u=e.type,i("152",u.displayName||u.name||"Component")}return n(e,r)}}function fn(e,t){var n=new kt(7,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function hn(e,t){switch(e.tag){case 7:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 8:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function dn(e){if(ia){var t=ra;if(t){var n=t;if(!hn(e,t)){if(!(t=dt(n))||!hn(e,t))return e.effectTag|=2,ia=!1,void(na=e);fn(na,n)}na=e,ra=pt(t)}else e.effectTag|=2,ia=!1,na=e}}function pn(e){for(e=e.return;null!==e&&7!==e.tag&&5!==e.tag;)e=e.return;na=e}function yn(e){if(e!==na)return!1;if(!ia)return pn(e),ia=!0,!1;var t=e.type;if(7!==e.tag||"head"!==t&&"body"!==t&&!ht(t,e.memoizedProps))for(t=ra;t;)fn(e,t),t=dt(t);return pn(e),ra=na?dt(e.stateNode):null,!0}function mn(){ra=na=null,ia=!1}function vn(e){switch(e._reactStatus){case 1:return e._reactResult;case 2:throw e._reactResult;case 0:throw e;default:throw e._reactStatus=0,e.then(function(t){if(0===e._reactStatus){if(e._reactStatus=1,"object"===typeof t&&null!==t){var n=t.default;t=void 0!==n&&null!==n?n:t}e._reactResult=t}},function(t){0===e._reactStatus&&(e._reactStatus=2,e._reactResult=t)}),e}}function gn(e,t,n,r){t.child=null===e?ta(t,null,n,r):ea(t,e.child,n,r)}function bn(e,t,n,r,i){n=n.render;var o=t.ref;return Mo.current||t.memoizedProps!==r||o!==(null!==e?e.ref:null)?(n=n(r,o),gn(e,t,n,i),t.memoizedProps=r,t.child):kn(e,t,i)}function wn(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function _n(e,t,n,r,i){var o=gt(n)?Uo:Fo.current;return o=vt(t,o),Yt(t,i),n=n(r,o),t.effectTag|=1,gn(e,t,n,i),t.memoizedProps=r,t.child}function En(e,t,n,r,i){if(gt(n)){var o=!0;Tt(t)}else o=!1;if(Yt(t,i),null===e)if(null===t.stateNode){var a=gt(n)?Uo:Fo.current,s=n.contextTypes,u=null!==s&&void 0!==s;s=u?vt(t,a):Lo;var c=new n(r,s);t.memoizedState=null!==c.state&&void 0!==c.state?c.state:null,c.updater=Jo,t.stateNode=c,c._reactInternalFiber=t,u&&(u=t.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=a,u.__reactInternalMemoizedMaskedChildContext=s),sn(t,n,r,i),r=!0}else{a=t.stateNode,s=t.memoizedProps,a.props=s;var l=a.context;u=gt(n)?Uo:Fo.current,u=vt(t,u);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&an(t,a,r,u),qo=!1;var h=t.memoizedState;l=a.state=h;var d=t.updateQueue;null!==d&&(Kt(t,d,r,a,i),l=t.memoizedState),s!==r||h!==l||Mo.current||qo?("function"===typeof f&&(rn(t,n,f,r),l=t.memoizedState),(s=qo||on(t,n,s,r,h,l,u))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=s,l=a.context,u=gt(n)?Uo:Fo.current,u=vt(t,u),f=n.getDerivedStateFromProps,(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&an(t,a,r,u),qo=!1,l=t.memoizedState,h=a.state=l,d=t.updateQueue,null!==d&&(Kt(t,d,r,a,i),h=t.memoizedState),s!==r||l!==h||Mo.current||qo?("function"===typeof f&&(rn(t,n,f,r),h=t.memoizedState),(f=qo||on(t,n,s,r,l,h,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=f):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Tn(e,t,n,r,o,i)}function Tn(e,t,n,r,i,o){wn(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&St(t,n,!1),kn(e,t,o);r=t.stateNode,oa.current=t;var s=a?null:r.render();return t.effectTag|=1,null!==e&&a&&(gn(e,t,null,o),t.child=null),gn(e,t,s,o),t.memoizedState=r.state,t.memoizedProps=r.props,i&&St(t,n,!0),t.child}function Sn(e){var t=e.stateNode;t.pendingContext?_t(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_t(e,t.context,!1),Zt(e,t.containerInfo)}function In(e,t){if(e&&e.defaultProps){t=wr({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function On(e,t,n,r){null!==e&&i("155");var o=t.pendingProps;if("object"===typeof n&&null!==n&&"function"===typeof n.then){n=vn(n);var a=n;a="function"===typeof a?Ct(a)?3:1:void 0!==a&&null!==a&&a.$$typeof?14:4,a=t.tag=a;var s=In(n,o);switch(a){case 1:return _n(e,t,n,s,r);case 3:return En(e,t,n,s,r);case 14:return bn(e,t,n,s,r);default:i("283",n)}}if(a=vt(t,Fo.current),Yt(t,r),a=n(o,a),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){t.tag=2,gt(n)?(s=!0,Tt(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var u=n.getDerivedStateFromProps;return"function"===typeof u&&rn(t,n,u,o),a.updater=Jo,t.stateNode=a,a._reactInternalFiber=t,sn(t,n,o,r),Tn(e,t,n,!0,s,r)}return t.tag=0,gn(e,t,a,r),t.memoizedProps=o,t.child}function kn(e,t,n){null!==e&&(t.firstContextDependency=e.firstContextDependency);var r=t.childExpirationTime;if(0===r||r>n)return null;if(null!==e&&t.child!==e.child&&i("153"),null!==t.child){for(e=t.child,n=xt(e,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=xt(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function Cn(e,t,n){var r=t.expirationTime;if(!Mo.current&&(0===r||r>n)){switch(t.tag){case 5:Sn(t),mn();break;case 7:tn(t);break;case 2:gt(t.type)&&Tt(t);break;case 3:gt(t.type._reactResult)&&Tt(t);break;case 6:Zt(t,t.stateNode.containerInfo);break;case 12:Qt(t,t.memoizedProps.value)}return kn(e,t,n)}switch(t.expirationTime=0,t.tag){case 4:return On(e,t,t.type,n);case 0:return _n(e,t,t.type,t.pendingProps,n);case 1:var o=t.type._reactResult;return r=t.pendingProps,e=_n(e,t,o,In(o,r),n),t.memoizedProps=r,e;case 2:return En(e,t,t.type,t.pendingProps,n);case 3:return o=t.type._reactResult,r=t.pendingProps,e=En(e,t,o,In(o,r),n),t.memoizedProps=r,e;case 5:return Sn(t),r=t.updateQueue,null===r&&i("282"),o=t.memoizedState,o=null!==o?o.element:null,Kt(t,r,t.pendingProps,null,n),r=t.memoizedState.element,r===o?(mn(),t=kn(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(ra=pt(t.stateNode.containerInfo),na=t,o=ia=!0),o?(t.effectTag|=2,t.child=ta(t,null,r,n)):(gn(e,t,r,n),mn()),t=t.child),t;case 7:tn(t),null===e&&dn(t),r=t.type,o=t.pendingProps;var a=null!==e?e.memoizedProps:null,s=o.children;return ht(r,o)?s=null:null!==a&&ht(r,a)&&(t.effectTag|=16),wn(e,t),1073741823!==n&&1&t.mode&&o.hidden?(t.expirationTime=1073741823,t.memoizedProps=o,t=null):(gn(e,t,s,n),t.memoizedProps=o,t=t.child),t;case 8:return null===e&&dn(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 6:return Zt(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ea(t,null,r,n):gn(e,t,r,n),t.memoizedProps=r,t.child;case 13:return bn(e,t,t.type,t.pendingProps,n);case 14:return o=t.type._reactResult,r=t.pendingProps,e=bn(e,t,o,In(o,r),n),t.memoizedProps=r,e;case 9:return r=t.pendingProps,gn(e,t,r,n),t.memoizedProps=r,t.child;case 10:return r=t.pendingProps.children,gn(e,t,r,n),t.memoizedProps=r,t.child;case 15:return r=t.pendingProps,gn(e,t,r.children,n),t.memoizedProps=r,t.child;case 12:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,t.memoizedProps=o,Qt(t,a),null!==s){var u=s.value;if(0===(a=u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Mo.current){t=kn(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&a)){if(2===s.tag||3===s.tag){var c=Mt(n);c.tag=2,Vt(s,c)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),c=s.alternate,null!==c&&(0===c.expirationTime||c.expirationTime>n)&&(c.expirationTime=n);for(var l=s.return;null!==l;){if(c=l.alternate,0===l.childExpirationTime||l.childExpirationTime>n)l.childExpirationTime=n,null!==c&&(0===c.childExpirationTime||c.childExpirationTime>n)&&(c.childExpirationTime=n);else{if(null===c||!(0===c.childExpirationTime||c.childExpirationTime>n))break;c.childExpirationTime=n}l=l.return}}c=s.child,u=u.next}while(null!==u);else c=12===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}gn(e,t,o.children,n),t=t.child}return t;case 11:return a=t.type,r=t.pendingProps,o=r.children,Yt(t,n),a=Xt(a,r.unstable_observedBits),o=o(a),t.effectTag|=1,gn(e,t,o,n),t.memoizedProps=r,t.child;default:i("156")}}function xn(e){e.effectTag|=4}function Nn(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=re(n)),null!==n&&ne(n.type),t=t.value,null!==e&&2===e.tag&&ne(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function An(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){Kn(e,t)}else t.current=null}function Dn(e){switch("function"===typeof Bo&&Bo(e),e.tag){case 2:case 3:An(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Kn(e,t)}break;case 7:An(e);break;case 6:Rn(e)}}function Pn(e){return 7===e.tag||5===e.tag||6===e.tag}function jn(e){e:{for(var t=e.return;null!==t;){if(Pn(t)){var n=t;break e}t=t.return}i("160"),n=void 0}var r=t=void 0;switch(n.tag){case 7:t=n.stateNode,r=!1;break;case 5:case 6:t=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(ot(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pn(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||6===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(7===o.tag||8===o.tag)if(n)if(r){var a=t,s=o.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else t.insertBefore(o.stateNode,n);else r?(a=t,s=o.stateNode,8===a.nodeType?(u=a.parentNode,u.insertBefore(s,a)):(u=a,u.appendChild(s)),null===u.onclick&&(u.onclick=lt)):t.appendChild(o.stateNode);else if(6!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Rn(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&i("160"),n.tag){case 7:r=n.stateNode,o=!1;break e;case 5:case 6:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(7===t.tag||8===t.tag){e:for(var a=t,s=a;;)if(Dn(s),null!==s.child&&6!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=r,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):r.removeChild(t.stateNode)}else if(6===t.tag?(r=t.stateNode.containerInfo,o=!0):Dn(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,6===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Ln(e,t){switch(t.tag){case 2:case 3:break;case 7:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Vr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&de(n,r),ut(e,o),t=ut(e,r),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?at(n,u):"dangerouslySetInnerHTML"===s?Co(n,u):"children"===s?ot(n,u):ce(n,s,u,t)}switch(e){case"input":pe(n,r);break;case"textarea":tt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,a=r.value,null!=a?Je(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?Je(n,!!r.multiple,r.defaultValue,!0):Je(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 8:null===t.stateNode&&i("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 5:case 15:case 16:break;default:i("163")}}function Fn(e,t,n){n=Mt(n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rr(r),Nn(e,t)},n}function Mn(e,t,n){n=Mt(n),n.tag=3;var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){null===wa?wa=new Set([this]):wa.add(this);var n=t.value,r=t.stack;Nn(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Un(e){switch(e.tag){case 2:gt(e.type)&&bt(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return gt(e.type._reactResult)&&bt(e),t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 5:return en(e),wt(e),t=e.effectTag,0!==(64&t)&&i("285"),e.effectTag=-1025&t|64,e;case 7:return nn(e),null;case 16:return t=e.effectTag,1024&t?(e.effectTag=-1025&t|64,e):null;case 6:return en(e),null;case 12:return $t(e),null;default:return null}}function Vn(){if(null!==pa)for(var e=pa.return;null!==e;){var t=e;switch(t.tag){case 2:var n=t.type.childContextTypes;null!==n&&void 0!==n&&bt(t);break;case 3:n=t.type._reactResult.childContextTypes,null!==n&&void 0!==n&&bt(t);break;case 5:en(t),wt(t);break;case 7:nn(t);break;case 6:en(t);break;case 12:$t(t)}e=e.return}ya=null,ma=0,va=!1,pa=null}function Bn(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(512&e.effectTag)){var o=t;t=e;var a=t.pendingProps;switch(t.tag){case 0:case 1:break;case 2:gt(t.type)&&bt(t);break;case 3:gt(t.type._reactResult)&&bt(t);break;case 5:en(t),wt(t),a=t.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(yn(t),t.effectTag&=-3),aa(t);break;case 7:nn(t);var s=Jt(Yo.current),u=t.type;if(null!==o&&null!=t.stateNode)sa(o,t,u,a,s),o.ref!==t.ref&&(t.effectTag|=128);else if(a){var c=Jt(Qo.current);if(yn(t)){a=t,o=a.stateNode;var l=a.type,f=a.memoizedProps,h=s;switch(o[Ur]=a,o[Vr]=f,u=void 0,s=l){case"iframe":case"object":Me("load",o);break;case"video":case"audio":for(l=0;l<$r.length;l++)Me($r[l],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"form":Me("reset",o),Me("submit",o);break;case"details":Me("toggle",o);break;case"input":he(o,f),Me("invalid",o),ct(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Me("invalid",o),ct(h,"onChange");break;case"textarea":et(o,f),Me("invalid",o),ct(h,"onChange")}st(s,f),l=null;for(u in f)f.hasOwnProperty(u)&&(c=f[u],"children"===u?"string"===typeof c?o.textContent!==c&&(l=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(l=["children",""+c]):Ar.hasOwnProperty(u)&&null!=c&&ct(h,u));switch(s){case"input":Z(o),ye(o,f,!0);break;case"textarea":Z(o),nt(o,f);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(o.onclick=lt)}u=l,a.updateQueue=u,a=null!==u,a&&xn(t)}else{f=t,o=u,h=a,l=9===s.nodeType?s:s.ownerDocument,c===Oo.html&&(c=rt(o)),c===Oo.html?"script"===o?(o=l.createElement("div"),o.innerHTML="<script><\/script>",l=o.removeChild(o.firstChild)):"string"===typeof h.is?l=l.createElement(o,{is:h.is}):(l=l.createElement(o),"select"===o&&h.multiple&&(l.multiple=!0)):l=l.createElementNS(c,o),o=l,o[Ur]=f,o[Vr]=a;e:for(f=o,h=t,l=h.child;null!==l;){if(7===l.tag||8===l.tag)f.appendChild(l.stateNode);else if(6!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===h)break;for(;null===l.sibling;){if(null===l.return||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}h=o,l=u,f=a;var d=s,p=ut(l,f);switch(l){case"iframe":case"object":Me("load",h),s=f;break;case"video":case"audio":for(s=0;s<$r.length;s++)Me($r[s],h);s=f;break;case"source":Me("error",h),s=f;break;case"img":case"image":case"link":Me("error",h),Me("load",h),s=f;break;case"form":Me("reset",h),Me("submit",h),s=f;break;case"details":Me("toggle",h),s=f;break;case"input":he(h,f),s=fe(h,f),Me("invalid",h),ct(d,"onChange");break;case"option":s=Xe(h,f);break;case"select":h._wrapperState={wasMultiple:!!f.multiple},s=wr({},f,{value:void 0}),Me("invalid",h),ct(d,"onChange");break;case"textarea":et(h,f),s=Ze(h,f),Me("invalid",h),ct(d,"onChange");break;default:s=f}st(l,s),c=void 0;var y=l,m=h,v=s;for(c in v)if(v.hasOwnProperty(c)){var g=v[c];"style"===c?at(m,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&Co(m,g):"children"===c?"string"===typeof g?("textarea"!==y||""!==g)&&ot(m,g):"number"===typeof g&&ot(m,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Ar.hasOwnProperty(c)?null!=g&&ct(d,c):null!=g&&ce(m,c,g,p))}switch(l){case"input":Z(h),ye(h,f,!1);break;case"textarea":Z(h),nt(h,f);break;case"option":null!=f.value&&h.setAttribute("value",""+le(f.value));break;case"select":s=h,s.multiple=!!f.multiple,h=f.value,null!=h?Je(s,!!f.multiple,h,!1):null!=f.defaultValue&&Je(s,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof s.onClick&&(h.onclick=lt)}(a=ft(u,a))&&xn(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&i("166");break;case 8:o&&null!=t.stateNode?ua(o,t,o.memoizedProps,a):("string"!==typeof a&&(null===t.stateNode&&i("166")),o=Jt(Yo.current),Jt(Qo.current),yn(t)?(a=t,u=a.stateNode,o=a.memoizedProps,u[Ur]=a,(a=u.nodeValue!==o)&&xn(t)):(u=t,a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a),a[Ur]=u,t.stateNode=a));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:en(t),aa(t);break;case 12:$t(t);break;case 11:break;case 4:i("167");default:i("156")}if(t=pa=null,a=e,1073741823===ma||1073741823!==a.childExpirationTime){for(u=0,o=a.child;null!==o;)s=o.expirationTime,f=o.childExpirationTime,(0===u||0!==s&&s<u)&&(u=s),(0===u||0!==f&&f<u)&&(u=f),o=o.sibling;a.childExpirationTime=u}if(null!==t)return t;null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Un(e,ma)))return e.effectTag&=511,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;e=n}return null}function qn(e){var t=Cn(e.alternate,e,ma);return null===t&&(t=Bn(e)),la.current=null,t}function zn(e,t,n){da&&i("243"),da=!0,la.currentDispatcher=ca;var r=e.nextExpirationTimeToWorkOn;r===ma&&e===ya&&null!==pa||(Vn(),ya=e,ma=r,pa=xt(ya.current,null,ma),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==pa&&!nr();)pa=qn(pa);else for(;null!==pa;)pa=qn(pa)}catch(e){if(null===pa)o=!0,rr(e);else{null===pa&&i("271");var a=pa,s=a.return;if(null!==s){e:{var u=s,c=a,l=e;s=ma,c.effectTag|=512,c.firstEffect=c.lastEffect=null,va=!0,l=Gt(l,c);do{switch(u.tag){case 5:u.effectTag|=1024,u.expirationTime=s,s=Fn(u,l,s),Bt(u,s);break e;case 2:case 3:c=l;var f=u.stateNode;if(0===(64&u.effectTag)&&null!==f&&"function"===typeof f.componentDidCatch&&(null===wa||!wa.has(f))){u.effectTag|=1024,u.expirationTime=s,s=Mn(u,c,s),Bt(u,s);break e}}u=u.return}while(null!==u)}pa=Bn(a);continue}o=!0,rr(e)}}break}if(da=!1,Ho=Wo=Ko=la.currentDispatcher=null,o)ya=null,e.finishedWork=null;else if(null!==pa)e.finishedWork=null;else{if(t=e.current.alternate,null===t&&i("281"),ya=null,va){if(o=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o>r||0!==a&&a>r||0!==s&&s>r)return e.didError=!1,n=e.latestPingedTime,0!==n&&n<=r&&(e.latestPingedTime=0),n=e.earliestPendingTime,t=e.latestPendingTime,n===r?e.earliestPendingTime=t===r?e.latestPendingTime=0:t:t===r&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,t=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=r:n>r?e.earliestSuspendedTime=r:t<r&&(e.latestSuspendedTime=r),Rt(r,e),void(e.expirationTime=e.expirationTime);if(!e.didError&&!n)return e.didError=!0,e.nextExpirationTimeToWorkOn=r,r=e.expirationTime=1,void(e.expirationTime=r)}e.pendingCommitExpirationTime=r,e.finishedWork=t}}function Kn(e,t){var n;e:{for(da&&!ba&&i("263"),n=e.return;null!==n;){switch(n.tag){case 2:case 3:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof r.componentDidCatch&&(null===wa||!wa.has(r))){e=Gt(t,e),e=Mn(n,e,1),Vt(n,e),Hn(n,1),n=void 0;break e}break;case 5:e=Gt(t,e),e=Fn(n,e,1),Vt(n,e),Hn(n,1),n=void 0;break e}n=n.return}5===e.tag&&(n=Gt(t,e),n=Fn(e,n,1),Vt(e,n),Hn(e,1)),n=void 0}return n}function Wn(e,t){return 0!==ha?e=ha:da?e=ba?1:ma:1&t.mode?(e=Ra?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)),null!==ya&&e===ma&&(e+=1)):e=1,Ra&&(0===Ca||e>Ca)&&(Ca=e),e}function Hn(e,t){e:{(0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t);var n=e.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>t)&&(n.expirationTime=t);var r=e.return;if(null===r&&5===e.tag)e=e.stateNode;else{for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>t)&&(r.childExpirationTime=t),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>t)&&(n.childExpirationTime=t),null===r.return&&5===r.tag){e=r.stateNode;break e}r=r.return}e=null}}null!==e&&(!da&&0!==ma&&t<ma&&Vn(),jt(e,t),da&&!ba&&ya===e||(t=e,e=e.expirationTime,null===t.nextScheduledRoot?(t.expirationTime=e,null===Ea?(_a=Ea=t,t.nextScheduledRoot=t):(Ea=Ea.nextScheduledRoot=t,Ea.nextScheduledRoot=_a)):(0===(n=t.expirationTime)||e<n)&&(t.expirationTime=e),Ia||(Pa?ja&&(Oa=t,ka=1,er(t,1,!0)):1===e?Zn(1,null):$n(t,e))),Ba>Va&&(Ba=0,i("185")))}function Gn(e,t,n,r,i){var o=ha;ha=1;try{return e(t,n,r,i)}finally{ha=o}}function Qn(){Ma=2+((_r.unstable_now()-Fa)/10|0)}function $n(e,t){if(0!==Ta){if(t>Ta)return;null!==Sa&&_r.unstable_cancelScheduledWork(Sa)}Ta=t,e=_r.unstable_now()-Fa,Sa=_r.unstable_scheduleWork(Jn,{timeout:10*(t-2)-e})}function Yn(){return Ia?Ua:(Xn(),0!==ka&&1073741823!==ka||(Qn(),Ua=Ma),Ua)}function Xn(){var e=0,t=null;if(null!==Ea)for(var n=Ea,r=_a;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===Ea)&&i("244"),r===r.nextScheduledRoot){_a=Ea=r.nextScheduledRoot=null;break}if(r===_a)_a=o=r.nextScheduledRoot,Ea.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===Ea){Ea=n,Ea.nextScheduledRoot=_a,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=r),r===Ea)break;if(1===e)break;n=r,r=r.nextScheduledRoot}}Oa=t,ka=e}function Jn(e){if(e.didTimeout&&null!==_a){Qn();var t=_a;do{var n=t.expirationTime;0!==n&&Ma>=n&&(t.nextExpirationTimeToWorkOn=Ma),t=t.nextScheduledRoot}while(t!==_a)}Zn(0,e)}function Zn(e,t){if(Da=t,Xn(),null!==Da)for(Qn(),Ua=Ma;null!==Oa&&0!==ka&&(0===e||e>=ka)&&(!xa||Ma>=ka);)er(Oa,ka,Ma>=ka),Xn(),Qn(),Ua=Ma;else for(;null!==Oa&&0!==ka&&(0===e||e>=ka);)er(Oa,ka,!0),Xn();if(null!==Da&&(Ta=0,Sa=null),0!==ka&&$n(Oa,ka),Da=null,xa=!1,Ba=0,qa=null,null!==La)for(e=La,La=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Na||(Na=!0,Aa=e)}}if(Na)throw e=Aa,Aa=null,Na=!1,e}function er(e,t,n){if(Ia&&i("245"),Ia=!0,null===Da||n){var r=e.finishedWork;null!==r?tr(e,r,t):(e.finishedWork=null,zn(e,!1,n),null!==(r=e.finishedWork)&&tr(e,r,t))}else r=e.finishedWork,null!==r?tr(e,r,t):(e.finishedWork=null,zn(e,!0,n),null!==(r=e.finishedWork)&&(nr()?e.finishedWork=r:tr(e,r,t)));Ia=!1}function tr(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===La?La=[r]:La.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===qa?Ba++:(qa=e,Ba=0),ba=da=!0,e.current===t&&i("177"),n=e.pendingCommitExpirationTime,0===n&&i("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime;var o=t.childExpirationTime;if(r=0===r||0!==o&&o<r?o:r,e.didError=!1,0===r?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(o=e.latestPendingTime,0!==o&&(o<r?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<r&&(e.earliestPendingTime=e.latestPendingTime)),o=e.earliestSuspendedTime,0===o?jt(e,r):r>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,jt(e,r)):r<o&&jt(e,r)),Rt(0,e),la.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,Do=yo,o=Ge(),Qe(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch(e){a=null;break e}var l=0,f=-1,h=-1,d=0,p=0,y=o,m=null;t:for(;;){for(var v;y!==a||0!==u&&3!==y.nodeType||(f=l+u),y!==c||0!==s&&3!==y.nodeType||(h=l+s),3===y.nodeType&&(l+=y.nodeValue.length),null!==(v=y.firstChild);)m=y,y=v;for(;;){if(y===o)break t;if(m===a&&++d===u&&(f=l),m===c&&++p===s&&(h=l),null!==(v=y.nextSibling))break;y=m,m=y.parentNode}y=v}a=-1===f||-1===h?null:{start:f,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(Po={focusedElem:o,selectionRange:a},yo=!1,ga=r;null!==ga;){o=!1,a=void 0;try{for(;null!==ga;){if(256&ga.effectTag){var g=ga.alternate;e:switch(u=ga,u.tag){case 2:case 3:if(256&u.effectTag&&null!==g){var b=g.memoizedProps,w=g.memoizedState,_=u.stateNode;_.props=u.memoizedProps,_.state=u.memoizedState;var E=_.getSnapshotBeforeUpdate(b,w);_.__reactInternalSnapshotBeforeUpdate=E}break e;case 5:case 7:case 8:case 6:break e;default:i("163")}}ga=ga.nextEffect}}catch(e){o=!0,a=e}o&&(null===ga&&i("178"),Kn(ga,a),null!==ga&&(ga=ga.nextEffect))}for(ga=r;null!==ga;){g=!1,b=void 0;try{for(;null!==ga;){var T=ga.effectTag;if(16&T&&ot(ga.stateNode,""),128&T){var S=ga.alternate;if(null!==S){var I=S.ref;null!==I&&("function"===typeof I?I(null):I.current=null)}}switch(14&T){case 2:jn(ga),ga.effectTag&=-3;break;case 6:jn(ga),ga.effectTag&=-3,Ln(ga.alternate,ga);break;case 4:Ln(ga.alternate,ga);break;case 8:w=ga,Rn(w),w.return=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate.return=null)}ga=ga.nextEffect}}catch(e){g=!0,b=e}g&&(null===ga&&i("178"),Kn(ga,b),null!==ga&&(ga=ga.nextEffect))}if(I=Po,S=Ge(),T=I.focusedElem,b=I.selectionRange,S!==T&&T&&T.ownerDocument&&He(T.ownerDocument.documentElement,T)){null!==b&&Qe(T)&&(S=b.start,I=b.end,void 0===I&&(I=S),"selectionStart"in T?(T.selectionStart=S,T.selectionEnd=Math.min(I,T.value.length)):(g=T.ownerDocument||document,S=(g&&g.defaultView||window).getSelection(),w=T.textContent.length,I=Math.min(b.start,w),b=void 0===b.end?I:Math.min(b.end,w),!S.extend&&I>b&&(w=b,b=I,I=w),w=We(T,I),_=We(T,b),w&&_&&(1!==S.rangeCount||S.anchorNode!==w.node||S.anchorOffset!==w.offset||S.focusNode!==_.node||S.focusOffset!==_.offset)&&(g=g.createRange(),g.setStart(w.node,w.offset),S.removeAllRanges(),I>b?(S.addRange(g),S.extend(_.node,_.offset)):(g.setEnd(_.node,_.offset),S.addRange(g))))),S=[];for(I=T;I=I.parentNode;)1===I.nodeType&&S.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"===typeof T.focus&&T.focus(),T=0;T<S.length;T++)I=S[T],I.element.scrollLeft=I.left,I.element.scrollTop=I.top}for(Po=null,yo=!!Do,Do=null,e.current=t,ga=r;null!==ga;){r=!1,T=void 0;try{for(S=n;null!==ga;){var O=ga.effectTag;if(36&O){var k=ga.alternate;switch(I=ga,g=S,I.tag){case 2:case 3:var C=I.stateNode;if(4&I.effectTag)if(null===k)C.props=I.memoizedProps,C.state=I.memoizedState,C.componentDidMount();else{var x=k.memoizedProps,N=k.memoizedState;C.props=I.memoizedProps,C.state=I.memoizedState,C.componentDidUpdate(x,N,C.__reactInternalSnapshotBeforeUpdate)}var A=I.updateQueue;null!==A&&(C.props=I.memoizedProps,C.state=I.memoizedState,Wt(I,A,C,g));break;case 5:var D=I.updateQueue;if(null!==D){if(b=null,null!==I.child)switch(I.child.tag){case 7:b=I.child.stateNode;break;case 2:case 3:b=I.child.stateNode}Wt(I,D,b,g)}break;case 7:var P=I.stateNode;null===k&&4&I.effectTag&&ft(I.type,I.memoizedProps)&&P.focus();break;case 8:case 6:case 15:case 16:break;default:i("163")}}if(128&O){var j=ga.ref;if(null!==j){var R=ga.stateNode;switch(ga.tag){case 7:var L=R;break;default:L=R}"function"===typeof j?j(L):j.current=L}}var F=ga.nextEffect;ga.nextEffect=null,ga=F}}catch(e){r=!0,T=e}r&&(null===ga&&i("178"),Kn(ga,T),null!==ga&&(ga=ga.nextEffect))}da=ba=!1,"function"===typeof Vo&&Vo(t.stateNode),O=t.expirationTime,t=t.childExpirationTime,t=0===O||0!==t&&t<O?t:O,0===t&&(wa=null),e.expirationTime=t,e.finishedWork=null}function nr(){return!!xa||!(null===Da||Da.timeRemaining()>za)&&(xa=!0)}function rr(e){null===Oa&&i("246"),Oa.expirationTime=0,Na||(Na=!0,Aa=e)}function ir(e,t){var n=Pa;Pa=!0;try{return e(t)}finally{(Pa=n)||Ia||Zn(1,null)}}function or(e,t){if(Pa&&!ja){ja=!0;try{return e(t)}finally{ja=!1}}return e(t)}function ar(e,t,n){if(Ra)return e(t,n);Pa||Ia||0===Ca||(Zn(Ca,null),Ca=0);var r=Ra,i=Pa;Pa=Ra=!0;try{return e(t,n)}finally{Ra=r,(Pa=i)||Ia||Zn(1,null)}}function sr(e){if(!e)return Lo;e=e._reactInternalFiber;e:{(2!==Ae(e)||2!==e.tag&&3!==e.tag)&&i("170");var t=e;do{switch(t.tag){case 5:t=t.stateNode.context;break e;case 2:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}break;case 3:if(gt(t.type._reactResult)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);i("171"),t=void 0}if(2===e.tag){var n=e.type;if(gt(n))return Et(e,n,t)}else if(3===e.tag&&(n=e.type._reactResult,gt(n)))return Et(e,n,t);return t}function ur(e,t,n,r,i){var o=t.current;return n=sr(n),null===t.context?t.context=n:t.pendingContext=n,t=i,i=Mt(r),i.payload={element:e},t=void 0===t?null:t,null!==t&&(i.callback=t),Vt(o,i),Hn(o,r),r}function cr(e,t,n,r){var i=t.current;return i=Wn(Yn(),i),ur(e,t,n,i,r)}function lr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 7:default:return e.child.stateNode}}function fr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function hr(e){var t=2+25*(1+((Yn()-2+500)/25|0));t<=fa&&(t=fa+1),this._expirationTime=fa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function dr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function pr(e,t,n){t=new kt(5,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function yr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new pr(e,!1,t)}function vr(e,t,n,r,o){yr(n)||i("200");var a=n._reactRootContainer;if(a){if("function"===typeof o){var s=o;o=function(){var e=lr(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)}else{if(a=n._reactRootContainer=mr(n,r),"function"===typeof o){var u=o;o=function(){var e=lr(a._internalRoot);u.call(e)}}or(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)})}return lr(a._internalRoot)}function gr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return yr(t)||i("200"),fr(e,t,null,n)}var br=n(0),wr=n(4),_r=n(20);br||i("227");var Er=!1,Tr=null,Sr=!1,Ir=null,Or={onError:function(e){Er=!0,Tr=e}},kr=null,Cr={},xr=[],Nr={},Ar={},Dr={},Pr=null,jr=null,Rr=null,Lr=null,Fr={injectEventPluginOrder:function(e){kr&&i("101"),kr=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];Cr.hasOwnProperty(t)&&Cr[t]===r||(Cr[t]&&i("102",t),Cr[t]=r,n=!0)}n&&u()}},Mr=Math.random().toString(36).slice(2),Ur="__reactInternalInstance$"+Mr,Vr="__reactEventHandlers$"+Mr,Br=!("undefined"===typeof window||!window.document||!window.document.createElement),qr={animationend:C("Animation","AnimationEnd"),animationiteration:C("Animation","AnimationIteration"),animationstart:C("Animation","AnimationStart"),transitionend:C("Transition","TransitionEnd")},zr={},Kr={};Br&&(Kr=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);var Wr=x("animationend"),Hr=x("animationiteration"),Gr=x("animationstart"),Qr=x("transitionend"),$r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yr=null,Xr=null,Jr=null;wr(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=A)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=A)},persist:function(){this.isPersistent=A},isPersistent:D,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=D,this._dispatchInstances=this._dispatchListeners=null}}),P.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},P.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return wr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=wr({},r.Interface,e),n.extend=r.extend,L(n),n},L(P);var Zr=P.extend({data:null}),ei=P.extend({data:null}),ti=[9,13,27,32],ni=Br&&"CompositionEvent"in window,ri=null;Br&&"documentMode"in document&&(ri=document.documentMode);var ii=Br&&"TextEvent"in window&&!ri,oi=Br&&(!ni||ri&&8<ri&&11>=ri),ai=String.fromCharCode(32),si={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ui=!1,ci=!1,li={eventTypes:si,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ni)e:{switch(e){case"compositionstart":i=si.compositionStart;break e;case"compositionend":i=si.compositionEnd;break e;case"compositionupdate":i=si.compositionUpdate;break e}i=void 0}else ci?F(e,n)&&(i=si.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=si.compositionStart);return i?(oi&&"ko"!==n.locale&&(ci||i!==si.compositionStart?i===si.compositionEnd&&ci&&(o=N()):(Yr=r,Xr="value"in Yr?Yr.value:Yr.textContent,ci=!0)),i=Zr.getPooled(i,t,n,r),o?i.data=o:null!==(o=M(n))&&(i.data=o),k(i),o=i):o=null,(e=ii?U(e,n):V(e,n))?(t=ei.getPooled(si.beforeInput,t,n,r),t.data=e,k(t)):t=null,null===o?t:null===t?o:[o,t]}},fi=null,hi=null,di=null,pi=!1,yi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},mi=br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vi=/^(.*)[\\\/]/,gi="function"===typeof Symbol&&Symbol.for,bi=gi?Symbol.for("react.element"):60103,wi=gi?Symbol.for("react.portal"):60106,_i=gi?Symbol.for("react.fragment"):60107,Ei=gi?Symbol.for("react.strict_mode"):60108,Ti=gi?Symbol.for("react.profiler"):60114,Si=gi?Symbol.for("react.provider"):60109,Ii=gi?Symbol.for("react.context"):60110,Oi=gi?Symbol.for("react.async_mode"):60111,ki=gi?Symbol.for("react.forward_ref"):60112,Ci=gi?Symbol.for("react.placeholder"):60113,xi="function"===typeof Symbol&&Symbol.iterator,Ni=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ai=Object.prototype.hasOwnProperty,Di={},Pi={},ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ji[e]=new se(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ji[t]=new se(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ji[e]=new se(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ji[e]=new se(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ji[e]=new se(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ji[e]=new se(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ji[e]=new se(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ji[e]=new se(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ji[e]=new se(e,5,!1,e.toLowerCase(),null)});var Ri=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ri,ue);ji[t]=new se(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ri,ue);ji[t]=new se(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ri,ue);ji[t]=new se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ji.tabIndex=new se("tabIndex",1,!1,"tabindex",null);var Li={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Fi=null,Mi=null,Ui=!1;Br&&(Ui=Y("input")&&(!document.documentMode||9<document.documentMode));var Vi={eventTypes:Li,_isInputEventSupported:Ui,extractEvents:function(e,t,n,r){var i=t?w(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=we:Q(i)?Ui?o=Oe:(o=Se,a=Te):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ie),o&&(o=o(e,t)))return ve(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&me(i,"number",i.value)}},Bi=P.extend({view:null,detail:null}),qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},zi=0,Ki=0,Wi=!1,Hi=!1,Gi=Bi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ce,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=zi;return zi=e.screenX,Wi?"mousemove"===e.type?e.screenX-t:0:(Wi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ki;return Ki=e.screenY,Hi?"mousemove"===e.type?e.screenY-t:0:(Hi=!0,0)}}),Qi=Gi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$i={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Yi={eventTypes:$i,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?g(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Gi,s=$i.mouseLeave,u=$i.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Qi,s=$i.pointerLeave,u=$i.pointerEnter,c="pointer");var l=null==o?i:w(o);if(i=null==t?i:w(t),e=a.getPooled(s,o,n,r),e.type=c+"leave",e.target=l,e.relatedTarget=i,n=a.getPooled(u,t,n,r),n.type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(t=o,i=r,c=0,a=t;a;a=E(a))c++;for(a=0,u=i;u;u=E(u))a++;for(;0<c-a;)t=E(t),c--;for(;0<a-c;)i=E(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=E(t),i=E(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=E(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=E(r);for(r=0;r<t.length;r++)I(t[r],"bubbled",e);for(r=o.length;0<r--;)I(o[r],"captured",n);return[e,n]}},Xi=Object.prototype.hasOwnProperty,Ji=P.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zi=P.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eo=Bi.extend({relatedTarget:null}),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},no={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ro=Bi.extend({key:function(e){if(e.key){var t=to[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Re(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?no[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ce,charCode:function(e){return"keypress"===e.type?Re(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Re(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),io=Gi.extend({dataTransfer:null}),oo=Bi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ce}),ao=P.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),so=Gi.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),uo=[["abort","abort"],[Wr,"animationEnd"],[Hr,"animationIteration"],[Gr,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Qr,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],co={},lo={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Le(e,!0)}),uo.forEach(function(e){Le(e,!1)});var fo={eventTypes:co,isInteractiveTopLevelEventType:function(e){return void 0!==(e=lo[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=lo[e];if(!i)return null;switch(e){case"keypress":if(0===Re(n))return null;case"keydown":case"keyup":e=ro;break;case"blur":case"focus":e=eo;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oo;break;case Wr:case Hr:case Gr:e=Ji;break;case Qr:e=ao;break;case"scroll":e=Bi;break;case"wheel":e=so;break;case"copy":case"cut":case"paste":e=Zi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qi;break;default:e=P}return t=e.getPooled(i,t,n,r),k(t),t}},ho=fo.isInteractiveTopLevelEventType,po=[],yo=!0,mo={},vo=0,go="_reactListenersID"+(""+Math.random()).slice(2),bo=Br&&"documentMode"in document&&11>=document.documentMode,wo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},_o=null,Eo=null,To=null,So=!1,Io={eventTypes:wo,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=qe(o),i=Dr.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?w(t):window,e){case"focus":(Q(o)||"true"===o.contentEditable)&&(_o=o,Eo=t,To=null);break;case"blur":To=Eo=_o=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":return So=!1,$e(n,r);case"selectionchange":if(bo)break;case"keydown":case"keyup":return $e(n,r)}return null}};Fr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Pr=_,jr=b,Rr=w,Fr.injectEventPluginsByName({SimpleEventPlugin:fo,EnterLeaveEventPlugin:Yi,ChangeEventPlugin:Vi,SelectEventPlugin:Io,BeforeInputEventPlugin:li});var Oo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},ko=void 0,Co=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Oo.svg||"innerHTML"in e)e.innerHTML=t;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+t+"</svg>",t=ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),xo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},No=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){No.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});var Ao=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Do=null,Po=null;new Set;var jo=[],Ro=-1,Lo={},Fo={current:Lo},Mo={current:!1},Uo=Lo,Vo=null,Bo=null,qo=!1,zo={current:null},Ko=null,Wo=null,Ho=null,Go={},Qo={current:Go},$o={current:Go},Yo={current:Go},Xo=(new br.Component).refs,Jo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Ae(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Yn();r=Wn(r,e);var i=Mt(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Vt(e,i),Hn(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Yn();r=Wn(r,e);var i=Mt(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Vt(e,i),Hn(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Yn();n=Wn(n,e);var r=Mt(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Vt(e,r),Hn(e,n)}},Zo=Array.isArray,ea=ln(!0),ta=ln(!1),na=null,ra=null,ia=!1,oa=mi.ReactCurrentOwner,aa=void 0,sa=void 0,ua=void 0;aa=function(){},sa=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=t.stateNode;switch(Jt(Qo.current),e=null,n){case"input":o=fe(a,o),r=fe(a,r),e=[];break;case"option":o=Xe(a,o),r=Xe(a,r),e=[];break;case"select":o=wr({},o,{value:void 0}),r=wr({},r,{value:void 0}),e=[];break;case"textarea":o=Ze(a,o),r=Ze(a,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=lt)}st(n,r),a=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(Ar.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(e||(e=[]),e.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(Ar.hasOwnProperty(n)?(null!=c&&ct(i,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}s&&(e=e||[]).push("style",s),i=e,(t.updateQueue=i)&&xn(t)}},ua=function(e,t,n,r){n!==r&&xn(t)};var ca={readContext:Xt},la=mi.ReactCurrentOwner,fa=0,ha=0,da=!1,pa=null,ya=null,ma=0,va=!1,ga=null,ba=!1,wa=null,_a=null,Ea=null,Ta=0,Sa=void 0,Ia=!1,Oa=null,ka=0,Ca=0,xa=!1,Na=!1,Aa=null,Da=null,Pa=!1,ja=!1,Ra=!1,La=null,Fa=_r.unstable_now(),Ma=2+(Fa/10|0),Ua=Ma,Va=50,Ba=0,qa=null,za=1;fi=function(e,t,n){switch(t){case"input":if(pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_(r);o||i("90"),ee(r),pe(r,o)}}}break;case"textarea":tt(e,n);break;case"select":null!=(t=n.value)&&Je(e,!!n.multiple,t,!1)}},hr.prototype.render=function(e){this._defer||i("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new dr;return ur(e,t,null,n,r._onCommit),r},hr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},hr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||i("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r&&i("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,t=n,Ia&&i("253"),Oa=e,ka=t,er(e,t,!0),Zn(1,null),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},hr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},dr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},dr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&i("191",n),n()}}},pr.prototype.render=function(e,t){var n=this._internalRoot,r=new dr;return t=void 0===t?null:t,null!==t&&r.then(t),cr(e,n,null,r._onCommit),r},pr.prototype.unmount=function(e){var t=this._internalRoot,n=new dr;return e=void 0===e?null:e,null!==e&&n.then(e),cr(null,t,null,n._onCommit),n},pr.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new dr;return n=void 0===n?null:n,null!==n&&i.then(n),cr(t,r,e,i._onCommit),i},pr.prototype.createBatch=function(){var e=new hr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},K=ir,W=ar,H=function(){Ia||0===Ca||(Zn(Ca,null),Ca=0)};var Ka={createPortal:gr,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?i("188"):i("268",Object.keys(e))),e=je(t),e=null===e?null:e.stateNode},hydrate:function(e,t,n){return vr(null,e,t,!0,n)},render:function(e,t,n){return vr(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&i("38"),vr(e,t,n,!1,r)},unmountComponentAtNode:function(e){return yr(e)||i("40"),!!e._reactRootContainer&&(or(function(){vr(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return gr.apply(void 0,arguments)},unstable_batchedUpdates:ir,unstable_interactiveUpdates:ar,flushSync:function(e,t){Ia&&i("187");var n=Pa;Pa=!0;try{return Gn(e,t)}finally{Pa=n,Zn(1,null)}},unstable_flushControlled:function(e){var t=Pa;Pa=!0;try{Gn(e)}finally{(Pa=t)||Ia||Zn(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[b,w,_,Fr.injectEventPluginsByName,Nr,k,function(e){h(e,O)},q,z,Be,v]},unstable_createRoot:function(e,t){return yr(e)||i("278"),new pr(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;Ot(wr({},e,{findHostInstanceByFiber:function(e){return e=je(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:g,bundleType:0,version:"16.5.2",rendererPackageName:"react-dom"});var Wa={default:Ka},Ha=Wa&&Ka||Wa;e.exports=Ha.default||Ha},function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";function r(){if(!l){var e=c.timesOutAt;f?_():f=!0,w(o,e)}}function i(){var e=c,t=c.next;if(c===t)c=null;else{var n=c.previous;c=n.next=t,t.previous=n}e.next=e.previous=null,(e=e.callback)(d)}function o(e){l=!0,d.didTimeout=e;try{if(e)for(;null!==c;){var n=t.unstable_now();if(!(c.timesOutAt<=n))break;do{i()}while(null!==c&&c.timesOutAt<=n)}else if(null!==c)do{i()}while(null!==c&&0<E()-t.unstable_now())}finally{l=!1,null!==c?r(c):f=!1}}function a(e){s=v(function(t){m(u),e(t)}),u=y(function(){g(s),e(t.unstable_now())},100)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=null,l=!1,f=!1,h="object"===typeof performance&&"function"===typeof performance.now,d={timeRemaining:h?function(){var e=E()-performance.now();return 0<e?e:0}:function(){var e=E()-Date.now();return 0<e?e:0},didTimeout:!1},p=Date,y="function"===typeof setTimeout?setTimeout:void 0,m="function"===typeof clearTimeout?clearTimeout:void 0,v="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,g="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if(h){var b=performance;t.unstable_now=function(){return b.now()}}else t.unstable_now=function(){return p.now()};var w,_,E;if("undefined"===typeof window){var T=-1;w=function(e){T=setTimeout(e,0,!0)},_=function(){clearTimeout(T)},E=function(){return 0}}else if(window._schedMock){var S=window._schedMock;w=S[0],_=S[1],E=S[2]}else{"undefined"!==typeof console&&("function"!==typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var I=null,O=!1,k=-1,C=!1,x=!1,N=0,A=33,D=33;E=function(){return N};var P="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===P){O=!1;var n=t.unstable_now();if(e=!1,0>=N-n){if(!(-1!==k&&k<=n))return void(C||(C=!0,a(j)));e=!0}if(k=-1,n=I,I=null,null!==n){x=!0;try{n(e)}finally{x=!1}}}},!1);var j=function(e){C=!1;var t=e-N+D;t<D&&A<D?(8>t&&(t=8),D=t<A?A:t):A=t,N=e+D,O||(O=!0,window.postMessage(P,"*"))};w=function(e,t){I=e,k=t,x?window.postMessage(P,"*"):C||(C=!0,a(j))},_=function(){I=null,O=!1,k=-1}}t.unstable_scheduleWork=function(e,n){var i=t.unstable_now();if(n=void 0!==n&&null!==n&&null!==n.timeout&&void 0!==n.timeout?i+n.timeout:i+5e3,e={callback:e,timesOutAt:n,next:null,previous:null},null===c)c=e.next=e.previous=e,r(c);else{i=null;var o=c;do{if(o.timesOutAt>n){i=o;break}o=o.next}while(o!==c);null===i?i=c:i===c&&(c=e,r(c)),n=i.previous,n.next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelScheduledWork=function(e){var t=e.next;if(null!==t){if(t===e)c=null;else{e===c&&(c=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}}},function(e,t){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(24),l=n(30),f=n(32),h=n(34),d=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={crops:[]},n}return a(t,e),d(t,[{key:"componentDidMount",value:function(){this.fetchCrops()}},{key:"fetchCrops",value:function(){var e=this;c.a.collection("crops").get().then(function(t){var n=t.docs.map(function(e){return Object.assign({id:e.id},e.data())});e.setState({crops:n})}).catch(function(e){return console.error("Error fetching crops:",e)})}},{key:"addCrop",value:function(){var e=this,t={name:"",seasons:[{start:"",end:""}]};c.a.collection("crops").add(t).then(function(n){e.setState({crops:[].concat(r(e.state.crops),[Object.assign({},t,{id:n.id})])})}).catch(function(e){return console.error("Error adding crop:",e)})}},{key:"deleteCrop",value:function(e){var t=this.state.crops[e];t.id&&c.a.collection("crops").doc(t.id).delete().catch(console.error),this.setState({crops:[].concat(r(this.state.crops.slice(0,e)),r(this.state.crops.slice(e+1)))})}},{key:"updateCrop",value:function(e,t){var n=[].concat(r(this.state.crops)),i=Object.assign({},n[e]);void 0!==t.name&&(i.name=t.name),void 0!==t.seasons&&(i.seasons=t.seasons),n[e]=i,this.setState({crops:n}),i.id&&c.a.collection("crops").doc(i.id).update(i).catch(console.error)}},{key:"addSeasonToCrop",value:function(e){var t=[].concat(r(this.state.crops));t[e].seasons.push({start:"",end:""}),this.setState({crops:t})}},{key:"autoSchedulePineapple",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=[].concat(r(this.state.crops)),i=n[e],o=(new Date).getFullYear(),a=Math.floor(12/t);i.seasons=[];for(var s=0;s<t;s++){var u=s*a,l=u+a-1,f=new Date(o,u,1).toISOString().split("T")[0],h=new Date(o,l+1,0).toISOString().split("T")[0];i.seasons.push({start:f,end:h})}this.setState({crops:n}),i.id&&c.a.collection("crops").doc(i.id).update(i).catch(console.error)}},{key:"saveAllCrops",value:function(){this.state.crops.forEach(function(e){e.id?c.a.collection("crops").doc(e.id).update(e).catch(console.error):c.a.collection("crops").add(e).catch(console.error)}),alert("All crop data saved!")}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{id:"app"},u.a.createElement("div",{className:"app-bar"},u.a.createElement("h1",null,"Harvest Calendar")),u.a.createElement("header",null,u.a.createElement("p",null,"Plan pineapple farming with equal harvest distribution across the year.")),u.a.createElement("div",{id:"form-container"},u.a.createElement("div",{id:"instructions"},u.a.createElement("h3",null,"How to use it"),u.a.createElement("p",null,"Add your crops and schedule the seasons. Use Auto-Schedule for pineapple to balance harvest."),u.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.addCrop()}},"Add Crop"),u.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.saveAllCrops()}},"Save")),u.a.createElement(l.a,{id:"form",crops:this.state.crops,updateCrop:this.updateCrop.bind(this),deleteCrop:this.deleteCrop.bind(this),addSeasonToCrop:this.addSeasonToCrop.bind(this),autoSchedulePineapple:this.autoSchedulePineapple.bind(this)})),u.a.createElement(f.a,{crops:this.state.crops}))}}]),t}(s.Component);t.a=p},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(25),i=(n(26),{apiKey:"AIzaSyAmwqr5cmqtsfID3ztg9--Y2j3lD6uDjF0",authDomain:"nenass-c55f0.firebaseapp.com",projectId:"nenass-c55f0",storageBucket:"nenass-c55f0.appspot.com",messagingSenderId:"961332354476",appId:"1:961332354476:android:809ee9c9fce74b7f642e09"});r.a.initializeApp(i);var o=r.a.firestore()},function(e,t,n){"use strict";var r=n(5);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","8.10.1","app"),r.a.SDK_VERSION="8.10.1"},function(e,t,n){"use strict";n(27)},function(e,t,n){"use strict";var r=n(5),i=n(28),o=n(8),a=(n(1),n(2),n(6),n(9),{Firestore:i.e,GeoPoint:i.a,Timestamp:i.g,Blob:i.f,Transaction:i.j,WriteBatch:i.c,DocumentReference:i.d,DocumentSnapshot:i.k,Query:i.m,QueryDocumentSnapshot:i.r,QuerySnapshot:i.q,CollectionReference:i.n,FieldPath:i.p,FieldValue:i.l,setLogLevel:i.o,CACHE_SIZE_UNLIMITED:i.b});!function(e){!function(e,t){e.INTERNAL.registerComponent(new o.a("firestore",function(e){var n=e.getProvider("app").getImmediate();return t(n,e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},a)))}(e,function(e,t){return new i.e(e,new i.h(e,t),new i.i)}),e.registerVersion("@firebase/firestore","2.4.1")}(r.a)},function(e,t,n){"use strict";(function(e){function r(){return Zi.logLevel}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zi.logLevel<=Qi.a.DEBUG){var r=t.map(s);Zi.debug.apply(Zi,Object(Hi.f)(["Firestore (8.10.1): "+e],r))}}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zi.logLevel<=Qi.a.ERROR){var r=t.map(s);Zi.error.apply(Zi,Object(Hi.f)(["Firestore (8.10.1): "+e],r))}}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zi.logLevel<=Qi.a.WARN){var r=t.map(s);Zi.warn.apply(Zi,Object(Hi.f)(["Firestore (8.10.1): "+e],r))}}function s(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function u(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw o(t),new Error(t)}function c(e,t){e||u()}function l(e,t){return e}function f(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function h(e,t){return e<t?-1:e>t?1:0}function d(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function p(e){return e+"\0"}function y(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function m(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function v(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function g(e){if(c(!!e),"string"==typeof e){var t=0,n=fo.exec(e);if(c(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:b(e.seconds),nanos:b(e.nanos)}}function b(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function w(e){return"string"==typeof e?uo.fromBase64String(e):uo.fromUint8Array(e)}function _(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function E(e){var t=e.mapValue.fields.__previous_value__;return _(t)?E(t):t}function T(e){var t=g(e.mapValue.fields.__local_write_time__.timestampValue);return new to(t.seconds,t.nanos)}function S(e){return null==e}function I(e){return 0===e&&1/e==-1/0}function O(e){return"number"==typeof e&&Number.isInteger(e)&&!I(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function k(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_(e)?4:10:u()}function C(e,t){var n=k(e);if(n!==k(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return T(e).isEqual(T(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=g(e.timestampValue),r=g(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return w(e.bytesValue).isEqual(w(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return b(e.geoPointValue.latitude)===b(t.geoPointValue.latitude)&&b(e.geoPointValue.longitude)===b(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return b(e.integerValue)===b(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=b(e.doubleValue),r=b(t.doubleValue);return n===r?I(n)===I(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return d(e.arrayValue.values||[],t.arrayValue.values||[],C);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(y(n)!==y(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!C(n[i],r[i])))return!1;return!0}(e,t);default:return u()}}function x(e,t){return void 0!==(e.values||[]).find(function(e){return C(e,t)})}function N(e,t){var n=k(e),r=k(t);if(n!==r)return h(n,r);switch(n){case 0:return 0;case 1:return h(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=b(e.integerValue||e.doubleValue),r=b(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return A(e.timestampValue,t.timestampValue);case 4:return A(T(e),T(t));case 5:return h(e.stringValue,t.stringValue);case 6:return function(e,t){var n=w(e),r=w(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=h(n[i],r[i]);if(0!==o)return o}return h(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=h(b(e.latitude),b(t.latitude));return 0!==n?n:h(b(e.longitude),b(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=N(n[i],r[i]);if(o)return o}return h(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=h(r[a],o[a]);if(0!==s)return s;var u=N(n[r[a]],i[o[a]]);if(0!==u)return u}return h(r.length,o.length)}(e.mapValue,t.mapValue);default:throw u()}}function A(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return h(e,t);var n=g(e),r=g(t),i=h(n.seconds,r.seconds);return 0!==i?i:h(n.nanos,r.nanos)}function D(e){return P(e)}function P(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=g(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?w(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ho.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=P(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+P(e.fields[o])}return t+"}"}(e.mapValue):u();var t,n}function j(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function R(e){return!!e&&"integerValue"in e}function L(e){return!!e&&"arrayValue"in e}function F(e){return!!e&&"nullValue"in e}function M(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function U(e){return!!e&&"mapValue"in e}function V(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return m(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=V(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=V(e.arrayValue.values[r]);return n}return Object.assign({},e)}function B(e){var t=[];return m(e.fields,function(e,n){var r=new ao([e]);if(U(n)){var i=B(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)}),new so(t)}function q(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new mo(e,t,n,r,i,o,a)}function z(e){var t=l(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+D(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),S(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=G(t.startAt)),t.endAt&&(n+="|ub:",n+=G(t.endAt)),t.h=n}return t.h}function K(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Q(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!C(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Y(e.startAt,t.startAt)&&Y(e.endAt,t.endAt)}function W(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function H(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ho.fromName(e.referenceValue)})}function G(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return D(e)}).join(",")}function Q(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ho.comparator(ho.fromName(a.referenceValue),n.key):N(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Y(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!C(e.position[n],t.position[n]))return!1;return!0}function X(e,t,n,r,i,o,a,s){return new ko(e,t,n,r,i,o,a,s)}function J(e){return new ko(e)}function Z(e){return!S(e.limit)&&"F"===e.limitType}function ee(e){return!S(e.limit)&&"L"===e.limitType}function te(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ne(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function re(e){return null!==e.collectionGroup}function ie(e){var t=l(e);if(null===t.p){t.p=[];var n=ne(t),r=te(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Oo(n)),t.p.push(new Oo(ao.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Oo(ao.keyField(),u))}}}return t.p}function oe(e){var t=l(e);if(!t.T)if("F"===t.limitType)t.T=q(t.path,t.collectionGroup,ie(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ie(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Oo(o.field,a))}var s=t.endAt?new Io(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Io(t.startAt.position,!t.startAt.before):null;t.T=q(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ae(e,t,n){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function se(e,t){return K(oe(e),oe(t))&&e.limitType===t.limitType}function ue(e){return z(oe(e))+"|lt:"+e.limitType}function ce(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+D(t.value);var t}).join(", ")+"]"),S(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+G(e.startAt)),e.endAt&&(t+=", endAt: "+G(e.endAt)),"Target("+t+")"}(oe(e))+"; limitType="+e.limitType+")"}function le(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ho.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!$(e.startAt,ie(e),t))&&(!e.endAt||!$(e.endAt,ie(e),t))}(e,t)}function fe(e){return function(t,n){for(var r=!1,i=0,o=ie(e);i<o.length;i++){var a=o[i],s=he(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function he(e,t,n){var r=e.field.isKeyField()?ho.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?N(r,i):u()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return u()}}function de(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I(t)?"-0":t}}function pe(e){return{integerValue:""+e}}function ye(e,t){return O(t)?pe(t):de(e,t)}function me(e,t,n){return e instanceof xo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof No?be(e,t):e instanceof Ao?we(e,t):function(e,t){var n=ge(e,t),r=_e(n)+_e(e.A);return R(n)&&R(e.A)?pe(r):de(e.R,r)}(e,t)}function ve(e,t,n){return e instanceof No?be(e,t):e instanceof Ao?we(e,t):n}function ge(e,t){return e instanceof Do?R(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}function be(e,t){for(var n=Ee(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some(function(t){return C(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}function we(e,t){for(var n=Ee(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!C(t,e)})}(i[r]);return{arrayValue:{values:n}}}function _e(e){return b(e.integerValue||e.doubleValue)}function Ee(e){return L(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Te(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function Se(e,t,n){e instanceof Fo?function(e,t,n){var r=e.value.clone(),i=Ne(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mo?function(e,t,n){if(Te(e.precondition,t)){var r=Ne(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xe(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ie(e,t,n){e instanceof Fo?function(e,t,n){if(Te(e.precondition,t)){var r=e.value.clone(),i=Ae(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ce(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Mo?function(e,t,n){if(Te(e.precondition,t)){var r=Ae(e.fieldTransforms,n,t),i=t.data;i.setAll(xe(e)),i.setAll(r),t.convertToFoundDocument(Ce(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Te(e.precondition,t)&&t.convertToNoDocument(no.min())}(e,t)}function Oe(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ge(o.transform,a||null);null!=s&&(null==n&&(n=po.empty()),n.set(o.field,s))}return n||null}function ke(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&d(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof No&&t instanceof No||e instanceof Ao&&t instanceof Ao?d(e.elements,t.elements,C):e instanceof Do&&t instanceof Do?C(e.A,t.A):e instanceof xo&&t instanceof xo}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ce(e){return e.isFoundDocument()?e.version:no.min()}function xe(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ne(e,t,n){var r=new Map;c(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ve(a,s,n[i]))}return r}function Ae(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,me(s,u,t))}return r}function De(e){switch(e){case Xi.OK:return u();case Xi.CANCELLED:case Xi.UNKNOWN:case Xi.DEADLINE_EXCEEDED:case Xi.RESOURCE_EXHAUSTED:case Xi.INTERNAL:case Xi.UNAVAILABLE:case Xi.UNAUTHENTICATED:return!1;case Xi.INVALID_ARGUMENT:case Xi.NOT_FOUND:case Xi.ALREADY_EXISTS:case Xi.PERMISSION_DENIED:case Xi.FAILED_PRECONDITION:case Xi.ABORTED:case Xi.OUT_OF_RANGE:case Xi.UNIMPLEMENTED:case Xi.DATA_LOSS:return!0;default:return u()}}function Pe(e){if(void 0===e)return o("GRPC error has no .code"),Xi.UNKNOWN;switch(e){case co.OK:return Xi.OK;case co.CANCELLED:return Xi.CANCELLED;case co.UNKNOWN:return Xi.UNKNOWN;case co.DEADLINE_EXCEEDED:return Xi.DEADLINE_EXCEEDED;case co.RESOURCE_EXHAUSTED:return Xi.RESOURCE_EXHAUSTED;case co.INTERNAL:return Xi.INTERNAL;case co.UNAVAILABLE:return Xi.UNAVAILABLE;case co.UNAUTHENTICATED:return Xi.UNAUTHENTICATED;case co.INVALID_ARGUMENT:return Xi.INVALID_ARGUMENT;case co.NOT_FOUND:return Xi.NOT_FOUND;case co.ALREADY_EXISTS:return Xi.ALREADY_EXISTS;case co.PERMISSION_DENIED:return Xi.PERMISSION_DENIED;case co.FAILED_PRECONDITION:return Xi.FAILED_PRECONDITION;case co.ABORTED:return Xi.ABORTED;case co.OUT_OF_RANGE:return Xi.OUT_OF_RANGE;case co.UNIMPLEMENTED:return Xi.UNIMPLEMENTED;case co.DATA_LOSS:return Xi.DATA_LOSS;default:return u()}}function je(){return Go}function Re(){return Qo}function Le(){return $o}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Yo,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function Me(){return Xo}function Ue(){return new qo(ho.comparator)}function Ve(){return new qo(ho.comparator)}function Be(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function qe(e,t){return e.I?t.toBase64():t.toUint8Array()}function ze(e,t){return Be(e,t.toTimestamp())}function Ke(e){return c(!!e),no.fromTimestamp(function(e){var t=g(e);return new to(t.seconds,t.nanos)}(e))}function We(e,t){return function(e){return new io(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function He(e){var t=io.fromString(e);return c(mt(t)),t}function Ge(e,t){return We(e.databaseId,t.path)}function Qe(e,t){var n=He(t);if(n.get(1)!==e.databaseId.projectId)throw new Ji(Xi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ji(Xi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ho(Je(n))}function $e(e,t){return We(e.databaseId,t)}function Ye(e){var t=He(e);return 4===t.length?io.emptyPath():Je(t)}function Xe(e){return new io(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Je(e){return c(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ze(e,t,n){return{name:Ge(e,t),fields:n.value.mapValue.fields}}function et(e,t,n){var r=Qe(e,t.name),i=Ke(t.updateTime),o=new po({mapValue:{fields:t.fields}}),a=yo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function tt(e,t){var n;if(t instanceof Fo)n={update:Ze(e,t.key,t.value)};else if(t instanceof Uo)n={delete:Ge(e,t.key)};else if(t instanceof Mo)n={update:Ze(e,t.key,t.data),updateMask:yt(t.fieldMask)};else{if(!(t instanceof Vo))return u();n={verify:Ge(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof xo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof No)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ao)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Do)return{fieldPath:t.field.canonicalString(),increment:n.A};throw u()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ze(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u()}(e,t.precondition)),n}function nt(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ro.updateTime(Ke(e.updateTime)):void 0!==e.exists?Ro.exists(e.exists):Ro.none()}(t.currentDocument):Ro.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)c("REQUEST_TIME"===t.setToServerValue),n=new xo;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new No(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ao(i)}else"increment"in t?n=new Do(e,t.increment):u();var o=ao.fromServerFormat(t.fieldPath);return new Po(o,n)}(e,t)}):[];if(t.update){t.update.name;var i=Qe(e,t.update.name),o=new po({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new so(t.map(function(e){return ao.fromServerFormat(e)}))}(t.updateMask);return new Mo(i,o,a,n,r)}return new Fo(i,o,n,r)}if(t.delete){var s=Qe(e,t.delete);return new Uo(s,n)}if(t.verify){var l=Qe(e,t.verify);return new Vo(l,n)}return u()}function rt(e,t){return{documents:[$e(e,t.path)]}}function it(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$e(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$e(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(M(e.value))return{unaryFilter:{field:ft(e.field),op:"IS_NAN"}};if(F(e.value))return{unaryFilter:{field:ft(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(M(e.value))return{unaryFilter:{field:ft(e.field),op:"IS_NOT_NAN"}};if(F(e.value))return{unaryFilter:{field:ft(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ft(e.field),op:lt(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:ft(e.field),direction:ct(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||S(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=st(t.startAt)),t.endAt&&(n.structuredQuery.endAt=st(t.endAt)),n}function ot(e){var t=Ye(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){c(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=at(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new Oo(ht(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return S(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=ut(n.startAt));var f=null;return n.endAt&&(f=ut(n.endAt)),X(t,i,s,a,u,"F",l,f)}function at(e){return e?void 0!==e.unaryFilter?[pt(e)]:void 0!==e.fieldFilter?[dt(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return at(e)}).reduce(function(e,t){return e.concat(t)}):u():[]}function st(e){return{before:e.before,values:e.position}}function ut(e){var t=!!e.before,n=e.values||[];return new Io(n,t)}function ct(e){return oa[e]}function lt(e){return aa[e]}function ft(e){return{fieldPath:e.canonicalString()}}function ht(e){return ao.fromServerFormat(e.fieldPath)}function dt(e){return vo.create(ht(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return u()}}(e.fieldFilter.op),e.fieldFilter.value)}function pt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ht(e.unaryFilter.field);return vo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ht(e.unaryFilter.field);return vo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ht(e.unaryFilter.field);return vo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ht(e.unaryFilter.field);return vo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return u()}}function yt(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function mt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function vt(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=bt(t)),t=gt(e.get(n),t);return bt(t)}function gt(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function bt(e){return e+"\x01\x01"}function wt(e){var t=e.length;if(c(t>=2),2===t)return c("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),io.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&u(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:u()}o=a+2}return new io(r)}function _t(e){return"IndexedDbTransactionError"===e.name}function Et(e){return new Ca(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Tt(e.target.error);n(t)}})}function Tt(e){var t=Na._t(Object(Gi.i)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ji("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ja||(ja=!0,setTimeout(function(){throw r},0)),r}}return e}function St(e,t){var n=l(e);return Na.It(n.Mt,t)}function It(e,t){if(t.document)return et(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ho.fromSegments(t.noDocument.path),r=Nt(t.noDocument.readTime),i=yo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ho.fromSegments(t.unknownDocument.path);return r=Nt(t.unknownDocument.version),yo.newUnknownDocument(o,r)}return u()}function Ot(e,t,n){var r=kt(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ge(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Be(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ya(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),c=xt(t.version);return a=t.hasCommittedMutations,new ya(null,new da(s,c),null,a,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=xt(t.version);return new ya(new pa(l,f),null,null,!0,r,i)}return u()}function kt(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ct(e){var t=new to(e[0],e[1]);return no.fromTimestamp(t)}function xt(e){var t=e.toTimestamp();return new ua(t.seconds,t.nanoseconds)}function Nt(e){var t=new to(e.seconds,e.nanoseconds);return no.fromTimestamp(t)}function At(e,t){for(var n=(t.baseMutations||[]).map(function(t){return nt(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(t){return nt(e.Lt,t)}),s=to.fromMillis(t.localWriteTimeMs);return new La(t.batchId,s,n,a)}function Dt(e){var t,n,r=Nt(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Nt(e.lastLimboFreeSnapshotVersion):no.min();return void 0!==e.query.documents?(c(1===(n=e.query).documents.length),t=oe(J(Ye(n.documents[0])))):t=function(e){return oe(ot(e))}(e.query),new Ma(t,e.targetId,0,e.lastListenSequenceNumber,r,i,uo.fromBase64String(e.resumeToken))}function Pt(e,t){var n,r=xt(t.snapshotVersion),i=xt(t.lastLimboFreeSnapshotVersion);n=W(t.target)?rt(e.Lt,t.target):it(e.Lt,t.target);var o=t.resumeToken.toBase64();return new va(t.targetId,z(t.target),r,o,t.sequenceNumber,i,n)}function jt(e){var t=ot({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ae(t,t.limit,"L"):t}function Rt(e){return St(e,Ea.store)}function Lt(e){return St(e,Ta.store)}function Ft(e){return St(e,wa.store)}function Mt(e,t,n){var r=e.store(fa.store),i=e.store(ha.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){c(1===s)}));for(var l=[],f=0,h=n.mutations;f<h.length;f++){var d=h[f],p=ha.key(t,d.key.path,n.batchId);o.push(i.delete(p)),l.push(d.key)}return Ca.waitFor(o).next(function(){return l})}function Ut(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw u();t=e.noDocument}return JSON.stringify(t).length}function Vt(e,t,n){var r=ha.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return qt(e).$t({range:o,Ft:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Bt(e){return St(e,fa.store)}function qt(e){return St(e,ha.store)}function zt(e){return St(e,la.store)}function Kt(e){return St(e,va.store)}function Wt(e){return St(e,ba.store)}function Ht(e){return St(e,ga.store)}function Gt(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){if(e.code!==Xi.FAILED_PRECONDITION||e.message!==Ia)throw e;return i("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Qt(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=h(n,i);return 0===a?h(r,o):a}function $t(e,t){return Ht(e).put(function(e,t){return new ga(0,vt(e.path),t)}(t,e.currentSequenceNumber))}function Yt(e){return St(e,ma.store)}function Xt(e){return St(e,ya.store)}function Jt(e){return e.path.toArray()}function Zt(e){e.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.documentTargetsIndex,ga.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(va.store,{keyPath:va.keyPath}).createIndex(va.queryTargetsIndexName,va.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ba.store)}function en(e){return St(e,ca.store)}function tn(e){return St(e,_a.store)}function nn(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function rn(e,t,n,r){return new ls(e,t,n,r)}function on(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Hi.d)(this,function(a){switch(a.label){case 0:return n=l(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new ss(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],a=Fe(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var m=0,v=y.mutations;m<v.length;m++){var g=v[m];a=a.add(g.key)}}return i.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function an(e,t){var n=l(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ca.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);c(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function sn(e){var t=l(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function un(e,t){var n=l(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return c(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,t)&&a.push(n.qe.updateTargetData(e,l))}}});var s=je();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(cn(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(no.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return Ca.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,s)}).next(function(){return s})}).then(function(e){return n.kn=i,e})}function cn(e,t,n,r,o){var a=Fe();return n.forEach(function(e){return a=a.add(e)}),t.getEntries(e,a).next(function(e){var a=je();return n.forEach(function(n,s){var u=e.get(n),c=(null==o?void 0:o.get(n))||r;s.isNoDocument()&&s.version.isEqual(no.min())?(t.removeEntry(n,c),a=a.insert(n,s)):!u.isValidDocument()||s.version.compareTo(u.version)>0||0===s.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(s,c),a=a.insert(n,s)):i("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),a})}function ln(e,t){var n=l(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function fn(e,t){var n=l(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?(r=i,Ca.resolve(r)):n.qe.allocateTargetId(e).next(function(i){return r=new Ma(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function hn(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,o,a,s;return Object(Hi.d)(this,function(u){switch(u.label){case 0:r=l(e),o=r.kn.get(t),a=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(e){return r.persistence.referenceDelegate.removeTarget(e,o)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!_t(s=u.sent()))throw s;return i("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function dn(e,t,n){var r=l(e),i=no.min(),o=Fe();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=l(e),i=r.Fn.get(n);return void 0!==i?Ca.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,oe(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:no.min(),n?o:Fe())}).next(function(e){return{documents:e,Bn:o}})})}function pn(e,t){var n=l(e),r=l(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function yn(e){var t=l(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=l(e),i=je(),o=kt(n),a=Xt(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ya.readTimeIndex,range:s},function(e,t){var n=It(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:Ct(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn,r=e.readTime;return t.$n=r,n})}function mn(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){return[2,(t=l(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=Xt(e),n=no.min();return t.$t({index:ya.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Ct(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function vn(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,f,h,d,p;return Object(Hi.d)(this,function(y){switch(y.label){case 0:for(i=l(e),o=Fe(),a=je(),s=Le(),u=0,c=n;u<c.length;u++)f=c[u],h=t.qn(f.metadata.name),f.document&&(o=o.add(h)),a=a.insert(h,t.Un(f)),s=s.insert(h,t.Kn(f.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,fn(i,function(e){return oe(J(io.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return cn(e,d,a,no.min(),s).next(function(t){return d.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return i.qe.addMatchingKeys(e,o,p.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function gn(e,t,n){return void 0===n&&(n=Fe()),Object(Hi.b)(this,void 0,void 0,function(){var r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return[4,fn(e,oe(jt(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=l(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=Ke(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(uo.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}function bn(e,t){return"firestore_clients_"+e+"_"+t}function wn(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function _n(e,t){return"firestore_targets_"+e+"_"+t}function En(){return"undefined"!=typeof window?window:null}function Tn(){return"undefined"!=typeof document?document:null}function Sn(e){return new sa(e,!0)}function In(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:if(!Pn(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function On(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function kn(e,t){var n=l(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Dn(n)?An(n):Qn(n).er()&&xn(n,t))}function Cn(e,t){var n=l(e),r=Qn(n);n.$r.delete(t),r.er()&&Nn(n,t),0===n.$r.size&&(r.er()?r.ir():Pn(n)&&n.Br.set("Unknown"))}function xn(e,t){e.qr.U(t.targetId),Qn(e).mr(t)}function Nn(e,t){e.qr.U(t),Qn(e).yr(t)}function An(e){e.qr=new ia({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Qn(e).start(),e.Br.Sr()}function Dn(e){return Pn(e)&&!Qn(e).tr()&&e.$r.size>0}function Pn(e){return 0===l(e).Or.size}function jn(e){e.qr=void 0}function Rn(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){return e.$r.forEach(function(t,n){xn(e,t)}),[2]})})}function Ln(e,t){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(n){return jn(e),Dn(e)?(e.Br.Nr(t),An(e)):e.Br.set("Unknown"),[2]})})}function Fn(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,o,a;return Object(Hi.d)(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof na&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Hi.d)(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),i("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Mn(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ea?e.qr.X(t):t instanceof ta?e.qr.rt(t):e.qr.et(t),n.isEqual(no.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,sn(e.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(uo.EMPTY_BYTE_STRING,n.snapshotVersion)),Nn(e,t);var r=new Ma(n.target,t,1,n.sequenceNumber);xn(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return i("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Mn(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Mn(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r=this;return Object(Hi.d)(this,function(o){switch(o.label){case 0:if(!_t(t))throw t;return e.Or.add(1),[4,On(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return sn(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Object(Hi.b)(r,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return i("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,In(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Un(e,t){return t().catch(function(n){return Mn(e,n,t)})}function Vn(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n,r,i,o;return Object(Hi.d)(this,function(a){switch(a.label){case 0:t=l(e),n=$n(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Pn(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ln(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=$n(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Mn(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Bn(t)&&qn(t),[2]}})})}function Bn(e){return Pn(e)&&!$n(e).tr()&&e.Fr.length>0}function qn(e){$n(e).start()}function zn(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){return $n(e).Ar(),[2]})})}function Kn(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(Hi.d)(this,function(o){for(t=$n(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Wn(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Fa.from(r,t,n),[4,Un(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Vn(e)];case 2:return o.sent(),[2]}})})}function Hn(e,t){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t&&$n(e).pr?[4,function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return De(r=t.code)&&r!==Xi.ABORTED?(n=e.Fr.shift(),$n(e).sr(),[4,Un(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,Vn(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Bn(e)&&qn(e),[2]}})})}function Gn(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return n=l(e),t?(n.Or.delete(2),[4,In(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,On(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Qn(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=l(e);return r.br(),new Ls(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rn.bind(null,e),Ri:Ln.bind(null,e),_r:Fn.bind(null,e)}),e.Mr.push(function(n){return Object(Hi.b)(t,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Dn(e)?An(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),jn(e),t.label=3;case 3:return[2]}})})})),e.Ur}function $n(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=l(e);return r.br(),new Fs(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:zn.bind(null,e),Ri:Hn.bind(null,e),Ir:Kn.bind(null,e),Tr:Wn.bind(null,e)}),e.Mr.push(function(n){return Object(Hi.b)(t,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Vn(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(i("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}function Yn(e,t){if(o("AsyncQueue",t+": "+e),_t(e))return new Ji(Xi.UNAVAILABLE,t+": "+e);throw e}function Xn(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(Hi.d)(this,function(c){switch(c.label){case 0:if(n=l(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ws),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Yn(s,"Initialization of query '"+ce(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&tr(n),[2]}})})}function Jn(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(Hi.d)(this,function(s){return n=l(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Zn(e,t){for(var n=l(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,f=u.listeners;c<f.length;c++)f[c].Hr(a)&&(r=!0);u.Wr=a}}r&&tr(n)}function er(e,t,n){var r=l(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function tr(e){e.Gr.forEach(function(e){e.next()})}function nr(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function rr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(Hi.d)(this,function(u){switch(u.label){case 0:return n=Dr(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,fn(n.localStore,oe(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,ir(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&kn(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function ir(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(Hi.d)(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var i,o,a;return Object(Hi.d)(this,function(s){switch(s.label){case 0:return i=t.view._o(n),i.Nn?[4,dn(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(vr(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,r)},[4,dn(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Js(t,i.Bn),a=o._o(i.documents),s=Zo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),vr(e,n,u.To),c=new Zs(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function or(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return n=l(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!se(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hn(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Cn(n.remoteStore,r.targetId),yr(n,r.targetId)}).catch(Gt)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yr(n,r.targetId),[4,hn(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ar(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(Hi.d)(this,function(s){switch(s.label){case 0:r=Pr(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=l(e),i=to.now(),o=t.reduce(function(e,t){return e.add(t.key)},Fe());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Oe(c,n.get(c.key));null!=l&&a.push(new Mo(c.key,l,B(l.value.mapValue),Ro.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new qo(h)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,wr(r,i.changes)];case 3:return s.sent(),[4,Vn(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Yn(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function sr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r;return Object(Hi.d)(this,function(i){switch(i.label){case 0:n=l(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,un(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(c(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?c(r.bo):e.removedDocuments.size>0&&(c(r.bo),r.bo=!1))}),[4,wr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gt(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ur(e,t,n){var r=l(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=l(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&tr(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cr(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(Hi.d)(this,function(c){switch(c.label){case 0:return(r=l(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new qo(ho.comparator)).insert(o,yo.newNoDocument(o,no.min())),s=Fe().add(o),u=new Jo(no.min(),new Map,new Wo(h),a,s),[4,sr(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),br(r),[3,4];case 2:return[4,hn(r.localStore,t,!1).then(function(){return yr(r,t,n)}).catch(Gt)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function lr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:n=l(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,an(n.localStore,t)];case 2:return i=o.sent(),pr(n,r,null),dr(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,wr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gt(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function fr(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:r=l(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=l(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return c(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),pr(r,t,n),dr(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,wr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gt(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,o,a,s;return Object(Hi.d)(this,function(u){switch(u.label){case 0:Pn((n=l(e)).remoteStore)||i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=l(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return a=u.sent(),s=Yn(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function dr(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function pr(e,t,n){var r=l(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function yr(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||mr(e,t)})}function mr(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Cn(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),br(e))}function vr(e,t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];a instanceof Ys?(e.No.addReference(a.key,t),gr(e,a)):a instanceof Xs?(i("SyncEngine","Document no longer in limbo: "+a.key),e.No.removeReference(a.key,t),e.No.containsKey(a.key)||mr(e,a.key)):u()}}function gr(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(i("SyncEngine","New document in limbo: "+n),e.So.add(r),br(e))}function br(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ho(io.fromString(t)),r=e.Fo.next();e.Co.set(r,new eu(n)),e.Do=e.Do.insert(n,r),kn(e.remoteStore,new Ma(oe(J(n.path)),r,2,Yi.o))}}function wr(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,o,a,s;return Object(Hi.d)(this,function(u){switch(u.label){case 0:return r=l(e),o=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,i){s.push(r.Oo(i,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=us.Pn(i.targetId,e);a.push(t)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,o,a,s,u,c,f,h;return Object(Hi.d)(this,function(d){switch(d.label){case 0:n=l(e),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Ca.forEach(t,function(t){return Ca.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return Ca.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return d.sent(),[3,4];case 3:if(!_t(r=d.sent()))throw r;return i("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),f=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(f),n.kn=n.kn.insert(u,h));return[2]}})})}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function _r(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return(n=l(e)).currentUser.isEqual(t)?[3,3]:(i("SyncEngine","User change. New user:",t.toKey()),[4,on(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(e,t){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new Ji(Xi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,wr(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function Er(e,t){var n=l(e),r=n.Co.get(t);if(r&&r.bo)return Fe().add(r.key);var i=Fe(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Tr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return[4,dn((n=l(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&vr(n,t.targetId,i.To),i)]}})})}function Sr(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){return[2,yn((t=l(e)).localStore).then(function(e){return wr(t,e)})]})})}function Ir(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var o,a;return Object(Hi.d)(this,function(s){switch(s.label){case 0:return[4,function(e,t){var n=l(e),r=l(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):Ca.resolve(null)})})}((o=l(e)).localStore,t)];case 1:return null===(a=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vn(o.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(pr(o,t,r||null),dr(o,t),function(e,t){l(l(e)._n).Gt(t)}(o.localStore,t)):u(),s.label=4;case 4:return[4,wr(o,a)];case 5:return s.sent(),[3,7];case 6:i("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function Or(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(Hi.d)(this,function(f){switch(f.label){case 0:return Dr(n=l(e)),Pr(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,kr(n,r.toArray())]);case 1:return i=f.sent(),n.$o=!0,[4,Gn(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)s=a[o],kn(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then(function(){return yr(n,t),hn(n.localStore,t,!0)}),Cn(n.remoteStore,t)}),[4,c]);case 4:return f.sent(),[4,kr(n,u)];case 5:return f.sent(),function(e){var t=l(e);t.Co.forEach(function(e,n){Cn(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new qo(ho.comparator)}(n),n.$o=!1,[4,Gn(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function kr(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f,h,d,p,y,m;return Object(Hi.d)(this,function(v){switch(v.label){case 0:n=l(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,fn(n.localStore,oe(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),f=0,h=c,v.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,Tr(n,p)]):[3,6];case 4:(y=v.sent()).snapshot&&i.push(y.snapshot),v.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,pn(n.localStore,s)];case 8:return m=v.sent(),[4,fn(n.localStore,m)];case 9:return u=v.sent(),[4,ir(n,Cr(m),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Cr(e){return X(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xr(e){return l(l(l(e).localStore).persistence).fn()}function Nr(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var o,a,s;return Object(Hi.d)(this,function(c){switch(c.label){case 0:return(o=l(e)).$o?(i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yn(o.localStore)];case 3:return a=c.sent(),s=Jo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,wr(o,a,s)];case 4:return c.sent(),[3,8];case 5:return[4,hn(o.localStore,t,!0)];case 6:return c.sent(),yr(o,t,r),[3,8];case 7:u(),c.label=8;case 8:return[2]}})})}function Ar(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,o,a,s,u,c,l,f,h,d;return Object(Hi.d)(this,function(p){switch(p.label){case 0:if(!(r=Dr(e)).$o)return[3,10];o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(i("SyncEngine","Adding an already active target "+s),[3,5]):[4,pn(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,fn(r.localStore,u)];case 3:return c=p.sent(),[4,ir(r,Cr(u),c.targetId,!1)];case 4:p.sent(),kn(r.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(e){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,hn(r.localStore,e,!1).then(function(){Cn(r.remoteStore,e),yr(r,e)}).catch(Gt)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},f=0,h=n,p.label=7;case 7:return f<h.length?(d=h[f],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function Dr(e){var t=l(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sr.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Er.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cr.bind(null,t),t.vo._r=Zn.bind(null,t.eventManager),t.vo.Mo=er.bind(null,t.eventManager),t}function Pr(e){var t=l(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lr.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fr.bind(null,t),t}function jr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,o=this;return Object(Hi.d)(this,function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return Object(Hi.b)(o,void 0,void 0,function(){return Object(Hi.d)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,on(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Rr(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Lr(e)];case 1:return n=o.sent(),i("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return(n=l(e)).asyncQueue.verifyOperationInProgress(),i("RemoteStore","RemoteStore received new credentials"),r=Pn(n),n.Or.add(3),[4,On(n)];case 1:return o.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return o.sent(),n.Or.delete(3),[4,In(n)];case 3:return o.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function Lr(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(i("FirestoreClient","Using default OfflineComponentProvider"),[4,jr(e,new nu)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Fr(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(i("FirestoreClient","Using default OnlineComponentProvider"),[4,Rr(e,new ou)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Mr(e){return Lr(e).then(function(e){return e.persistence})}function Ur(e){return Lr(e).then(function(e){return e.localStore})}function Vr(e){return Fr(e).then(function(e){return e.remoteStore})}function Br(e){return Fr(e).then(function(e){return e.syncEngine})}function qr(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return[4,Fr(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=rr.bind(null,t.syncEngine),n.onUnlisten=or.bind(null,t.syncEngine),n)]}})})}function zr(e,t,n){var r=this;void 0===n&&(n={});var i=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(r,void 0,void 0,function(){var r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new au({next:function(o){t.enqueueAndForget(function(){return Jn(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ji(Xi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ji(Xi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Gs(J(n.path),o,{includeMetadataChanges:!0,so:!0});return Xn(e,a)},[4,qr(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Kr(e,t,n){var r=this;void 0===n&&(n={});var i=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(r,void 0,void 0,function(){var r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new au({next:function(n){t.enqueueAndForget(function(){return Jn(e,a)}),n.fromCache&&"server"===r.source?i.reject(new Ji(Xi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Gs(n,o,{includeMetadataChanges:!0,so:!0});return Xn(e,a)},[4,qr(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Wr(e,t,n){if(!n)throw new Ji(Xi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Hr(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Gr(e,t,n,r){if(!0===t&&!0===r)throw new Ji(Xi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Qr(e){if(!ho.isDocumentKey(e))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $r(e){if(ho.isDocumentKey(e))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Yr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":u()}function Xr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ji(Xi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yr(e);throw new Ji(Xi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Jr(e,t){if(t<=0)throw new Ji(Xi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function Zr(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Gi.h)(e),Wr("collection","path",t),e instanceof wu)return $r(n=io.fromString.apply(io,Object(Hi.f)([t],r))),new Tu(e,null,n);if(!(e instanceof _u||e instanceof Tu))throw new Ji(Xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $r(n=io.fromString.apply(io,Object(Hi.f)([e.path],r)).child(io.fromString(t))),new Tu(e.firestore,null,n)}function ei(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Gi.h)(e),1===arguments.length&&(t=eo.u()),Wr("doc","path",t),e instanceof wu)return Qr(n=io.fromString.apply(io,Object(Hi.f)([t],r))),new _u(e,null,new ho(n));if(!(e instanceof _u||e instanceof Tu))throw new Ji(Xi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qr(n=e._path.child(io.fromString.apply(io,Object(Hi.f)([t],r)))),new _u(e.firestore,e instanceof Tu?e.converter:null,new ho(n))}function ti(e,t){return e=Object(Gi.h)(e),t=Object(Gi.h)(t),(e instanceof _u||e instanceof Tu)&&(t instanceof _u||t instanceof Tu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ni(e,t){return e=Object(Gi.h)(e),t=Object(Gi.h)(t),e instanceof Eu&&t instanceof Eu&&e.firestore===t.firestore&&se(e._query,t._query)&&e.converter===t.converter}function ri(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}function ii(e){return e._firestoreClient||oi(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function oi(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new lu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new cu(e._credentials,e._queue,r)}function ai(e,t,n){var r=this,i=new ka;return e.asyncQueue.enqueue(function(){return Object(Hi.b)(r,void 0,void 0,function(){var r;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jr(e,n)];case 1:return o.sent(),[4,Rr(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Xi.FAILED_PRECONDITION||e.code===Xi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function si(e){if(e._initialized||e._terminated)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function ui(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw u()}}function ci(e){var t=e._freezeSettings(),n=Sn(e._databaseId);return new Ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function li(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);gi("Data must be an object, but it was:",a,r);var s,u,c=mi(r,a);if(o.merge)s=new so(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=bi(t,h[f],n);if(!a.contains(d))throw new Ji(Xi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ei(l,d)||l.push(d)}s=new so(l),u=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=a.fieldTransforms;return new Du(new po(c),s,u)}function fi(e,t,n){return new ju({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function hi(e,t,n,r){var i=e.Uc(1,t,n);gi("Data must be an object, but it was:",i,r);var o=[],a=po.empty();m(r,function(e,r){var s=wi(t,e,n);r=Object(Gi.h)(r);var u=i.Oc(s);if(r instanceof Lu)o.push(s);else{var c=yi(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new so(o);return new Pu(a,s,i.fieldTransforms)}function di(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[bi(t,r,n)],u=[i];if(o.length%2!=0)throw new Ji(Xi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(bi(t,o[c])),u.push(o[c+1]);for(var l=[],f=po.empty(),h=s.length-1;h>=0;--h)if(!Ei(l,s[h])){var d=s[h],p=u[h];p=Object(Gi.h)(p);var y=a.Oc(d);if(p instanceof Lu)l.push(d);else{var m=yi(p,y);null!=m&&(l.push(d),f.set(d,m))}}var v=new so(l);return new Pu(f,v,a.fieldTransforms)}function pi(e,t,n,r){return void 0===r&&(r=!1),yi(n,e.Uc(r?4:3,t))}function yi(e,t){if(vi(e=Object(Gi.h)(e)))return gi("Unsupported field value:",t,e),mi(e,t);if(e instanceof xu)return function(e,t){if(!ui(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=yi(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(Gi.h)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ye(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=to.fromDate(e);return{timestampValue:Be(t.R,n)}}if(e instanceof to)return n=new to(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Be(t.R,n)};if(e instanceof Nu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cu)return{bytesValue:qe(t.R,e._byteString)};if(e instanceof _u){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:We(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Yr(e))}(e,t)}function mi(e,t){var n={};return v(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):m(e,function(e,r){var i=yi(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function vi(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof to||e instanceof Nu||e instanceof Cu||e instanceof _u||e instanceof xu)}function gi(e,t,n){if(!vi(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Yr(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function bi(e,t,n){if((t=Object(Gi.h)(t))instanceof ku)return t._internalPath;if("string"==typeof t)return wi(e,t);throw _i("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function wi(e,t,n){if(t.search(Bu)>=0)throw _i("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ku.bind.apply(ku,Object(Hi.f)([void 0],t.split(".")))))._internalPath}catch(r){throw _i("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function _i(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ji(Xi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Ei(e,t){return e.some(function(e){return e.isEqual(t)})}function Ti(e,t){return"string"==typeof t?wi(e,t):t instanceof ku?t._internalPath:t._delegate._internalPath}function Si(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return u()}}function Ii(e,t){return e instanceof Wu&&t instanceof Wu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Gu&&t instanceof Gu&&e._firestore===t._firestore&&ni(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Oi(e){if(ee(e)&&0===e.explicitOrderBy.length)throw new Ji(Xi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ki(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}function Ci(e,t,n,r){if(n[0]=Object(Gi.h)(n[0]),n[0]instanceof qu)return function(e,t,n,r,i){if(!r)throw new Ji(Xi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ie(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(j(t,r.key));else{var c=r.data.field(u.field);if(_(c))throw new Ji(Xi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Io(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ci(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ji(Xi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!re(e)&&-1!==c.indexOf("/"))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(io.fromString(c));if(!ho.isDocumentKey(l))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ho(l);s.push(j(t,f))}else{var h=pi(n,r,c);s.push(h)}}return new Io(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function xi(e,t,n){if("string"==typeof(n=Object(Gi.h)(n))){if(""===n)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!re(t)&&-1!==n.indexOf("/"))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(io.fromString(n));if(!ho.isDocumentKey(r))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return j(e,new ho(r))}if(n instanceof _u)return j(e,n._key);throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yr(n)+".")}function Ni(e,t){if(!Array.isArray(e)||0===e.length)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ai(e,t,n){if(!n.isEqual(t))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Di(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function Pi(e,t){if((e=Object(Gi.h)(e)).firestore!==t)throw new Ji(Xi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function ji(e,t,n){e=Xr(e,_u);var r=Xr(e.firestore,Ou),i=Di(e.converter,t,n);return Fi(r,[li(ci(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ro.none())])}function Ri(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Xr(e,_u);var o=Xr(e.firestore,Ou),a=ci(o);return Fi(o,[("string"==typeof(t=Object(Gi.h)(t))||t instanceof ku?di(a,"updateDoc",e._key,t,n,r):hi(a,"updateDoc",e._key,t)).toMutation(e._key,Ro.exists(!0))])}function Li(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(Gi.h)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||ri(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(ri(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof _u)c=Xr(e.firestore,Ou),l=J(e._key.path),u={next:function(t){i[s]&&i[s](Mi(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Xr(e,Eu);c=Xr(d.firestore,Ou),l=d._query;var p=new rc(c);u={next:function(e){i[s]&&i[s](new Gu(c,p,d,e))},error:i[s+1],complete:i[s+2]},Oi(e._query)}return function(e,t,n,r){var i=this,o=new au(r),a=new Gs(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(i,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t=Xn,[4,qr(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(i,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t=Jn,[4,qr(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(ii(c),l,f,u)}function Fi(e,t){return function(e,t){var n=this,r=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var n;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return n=ar,[4,Br(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(ii(e),t)}function Mi(e,t,n){var r=n.docs.get(t._key),i=new rc(e);return new Wu(e,i,t._key,r,new Ku(n.hasPendingWrites,n.fromCache),t.converter)}function Ui(){if("undefined"==typeof Uint8Array)throw new Ji(Xi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vi(){if("undefined"==typeof atob)throw new Ji(Xi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Bi(e){var t;t=e,Zi.setLogLevel(t)}function qi(e,t,n){return e.message=e.message.replace(t,n),e}function zi(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!ri(r))return r}return{}}function Ki(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ri(e[0])?e[0]:ri(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}function Wi(e){return Xr(e,_u)}n.d(t,"a",function(){return Nu}),n.d(t,"b",function(){return Iu}),n.d(t,"c",function(){return lc}),n.d(t,"d",function(){return hc}),n.d(t,"e",function(){return sc}),n.d(t,"f",function(){return oc}),n.d(t,"g",function(){return to}),n.d(t,"h",function(){return Ou}),n.d(t,"i",function(){return ac}),n.d(t,"j",function(){return cc}),n.d(t,"k",function(){return dc}),n.d(t,"l",function(){return wc}),n.d(t,"m",function(){return yc}),n.d(t,"n",function(){return gc}),n.d(t,"o",function(){return Bi}),n.d(t,"p",function(){return bc}),n.d(t,"q",function(){return vc}),n.d(t,"r",function(){return pc});var Hi=n(1),Gi=n(2),Qi=n(6),$i=n(9),Yi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Yi.o=-1;var Xi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ji=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Hi.c)(t,e),t}(Error),Zi=new Qi.b("@firebase/firestore"),eo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=f(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}(),to=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ji(Xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ji(Xi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ji(Xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ji(Xi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?h(this.nanoseconds,e.nanoseconds):h(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),no=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new to(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),ro=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&u(),void 0===n?n=e.length-t:n>e.length-t&&u(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ro),oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return oo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ji(Xi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ji(Xi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ji(Xi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ro),so=function(){function e(e){this.fields=e,e.sort(ao.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return d(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),uo=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return h(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();uo.EMPTY_BYTE_STRING=new uo("");var co,lo,fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),ho=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(io.fromString(t))},e.fromName=function(t){return new e(io.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===io.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return io.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new io(t.slice()))},e}(),po=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!U(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=V(t)},e.prototype.setAll=function(e){var t=this,n=ao.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=V(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());U(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return C(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];U(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){m(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(V(this.value))},e}(),yo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,no.min(),po.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,po.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,po.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),mo=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null},vo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(Hi.c)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new go(e,n,r):"array-contains"===n?new _o(e,r):"in"===n?new Eo(e,r):"not-in"===n?new To(e,r):"array-contains-any"===n?new So(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new bo(e,n):new wo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(N(t,this.value)):null!==t&&k(this.value)===k(t)&&this.m(N(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return u()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),go=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ho.fromName(r.referenceValue),i}return Object(Hi.c)(t,e),t.prototype.matches=function(e){var t=ho.comparator(e.key,this.key);return this.m(t)},t}(vo),bo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=H("in",n),r}return Object(Hi.c)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(vo),wo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=H("not-in",n),r}return Object(Hi.c)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(vo),_o=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(Hi.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return L(t)&&x(t.arrayValue,this.value)},t}(vo),Eo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(Hi.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&x(this.value.arrayValue,t)},t}(vo),To=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(Hi.c)(t,e),t.prototype.matches=function(e){if(x(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!x(this.value.arrayValue,t)},t}(vo),So=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(Hi.c)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!L(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return x(t.value.arrayValue,e)})},t}(vo),Io=function(e,t){this.position=e,this.before=t},Oo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t},ko=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt},Co=function(){this._=void 0},xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t}(Co),No=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(Hi.c)(t,e),t}(Co),Ao=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(Hi.c)(t,e),t}(Co),Do=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(Hi.c)(t,e),t}(Co),Po=function(e,t){this.field=e,this.transform=t},jo=function(e,t){this.version=e,this.transformResults=t},Ro=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}(),Lo=function(){},Fo=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Hi.c)(t,e),t}(Lo),Mo=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(Hi.c)(t,e),t}(Lo),Uo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Hi.c)(t,e),t}(Lo),Vo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Hi.c)(t,e),t}(Lo),Bo=function(e){this.count=e};(lo=co||(co={}))[lo.OK=0]="OK",lo[lo.CANCELLED=1]="CANCELLED",lo[lo.UNKNOWN=2]="UNKNOWN",lo[lo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lo[lo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lo[lo.NOT_FOUND=5]="NOT_FOUND",lo[lo.ALREADY_EXISTS=6]="ALREADY_EXISTS",lo[lo.PERMISSION_DENIED=7]="PERMISSION_DENIED",lo[lo.UNAUTHENTICATED=16]="UNAUTHENTICATED",lo[lo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lo[lo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lo[lo.ABORTED=10]="ABORTED",lo[lo.OUT_OF_RANGE=11]="OUT_OF_RANGE",lo[lo.UNIMPLEMENTED=12]="UNIMPLEMENTED",lo[lo.INTERNAL=13]="INTERNAL",lo[lo.UNAVAILABLE=14]="UNAVAILABLE",lo[lo.DATA_LOSS=15]="DATA_LOSS";var qo=function(){function e(e,t){this.comparator=e,this.root=t||Ko.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ko.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ko.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new zo(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new zo(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new zo(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new zo(this.root,e,this.comparator,!0)},e}(),zo=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ko=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u();if(this.right.isRed())throw u();var e=this.left.check();if(e!==this.right.check())throw u();return e+(this.isRed()?0:1)},e}();Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw u()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw u()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ko(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Wo=function(){function e(e){this.comparator=e,this.data=new qo(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ho(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ho(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ho=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Go=new qo(ho.comparator),Qo=new qo(ho.comparator),$o=new qo(ho.comparator),Yo=new Wo(ho.comparator),Xo=new Wo(h),Jo=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Zo.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(no.min(),r,Me(),je(),Fe())},e}(),Zo=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(uo.EMPTY_BYTE_STRING,n,Fe(),Fe(),Fe())},e}(),ea=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ta=function(e,t){this.targetId=e,this.V=t},na=function(e,t,n,r){void 0===n&&(n=uo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ra=function(){function e(){this.S=0,this.D=Ve(),this.C=uo.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Fe(),t=Fe(),n=Fe();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:u()}}),new Zo(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Ve()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ia=function(){function e(e){this.W=e,this.G=new Map,this.H=je(),this.J=Ue(),this.Y=new Wo(h)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:u()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(W(i))if(0===n){var o=new ho(i.path);this.tt(t,o,yo.newNoDocument(o,no.min()))}else c(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&W(o.target)){var a=new ho(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,yo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=Fe();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Jo(e,n,this.Y,this.H,r);return this.H=je(),this.J=Ue(),this.Y=new Wo(h),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ra,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Wo(h),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||i("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ra),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}(),oa={asc:"ASCENDING",desc:"DESCENDING"},aa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sa=function(e,t){this.databaseId=e,this.I=t},ua=function(e,t){this.seconds=e,this.nanoseconds=t},ca=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ca.store="owner",ca.key="owner";var la=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};la.store="mutationQueues",la.keyPath="userId";var fa=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fa.store="mutations",fa.keyPath="batchId",fa.userMutationsIndex="userMutationsIndex",fa.userMutationsKeyPath=["userId","batchId"];var ha=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,vt(t)]},e.key=function(e,t,n){return[e,vt(t),n]},e}();ha.store="documentMutations",ha.PLACEHOLDER=new ha;var da=function(e,t){this.path=e,this.readTime=t},pa=function(e,t){this.path=e,this.version=t},ya=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ya.store="remoteDocuments",ya.readTimeIndex="readTimeIndex",ya.readTimeIndexPath="readTime",ya.collectionReadTimeIndex="collectionReadTimeIndex",ya.collectionReadTimeIndexPath=["parentPath","readTime"];var ma=function(e){this.byteSize=e};ma.store="remoteDocumentGlobal",ma.key="remoteDocumentGlobalKey";var va=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};va.store="targets",va.keyPath="targetId",va.queryTargetsIndexName="queryTargetsIndex",va.queryTargetsKeyPath=["canonicalId","targetId"];var ga=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ga.store="targetDocuments",ga.keyPath=["targetId","path"],ga.documentTargetsIndex="documentTargetsIndex",ga.documentTargetsKeyPath=["path","targetId"];var ba=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ba.key="targetGlobalKey",ba.store="targetGlobal";var wa=function(e,t){this.collectionId=e,this.parent=t};wa.store="collectionParents",wa.keyPath=["collectionId","parent"];var _a=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};_a.store="clientMetadata",_a.keyPath="clientId";var Ea=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ea.store="bundles",Ea.keyPath="bundleId";var Ta=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ta.store="namedQueries",Ta.keyPath="name";var Sa=Object(Hi.f)(Object(Hi.f)([],Object(Hi.f)(Object(Hi.f)([],Object(Hi.f)(Object(Hi.f)([],Object(Hi.f)(Object(Hi.f)([],[la.store,fa.store,ha.store,ya.store,va.store,ca.store,ba.store,ga.store]),[_a.store])),[ma.store])),[wa.store])),[Ea.store,Ta.store]),Ia="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oa=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),ka=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Ca=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&u(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=0,i=t;r<i.length;r++)!function(t){n=n.next(function(n){return n?e.resolve(n):t()})}(i[r]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),xa=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ka,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Da(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Tt(t.target.error);n.ft.reject(new Da(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Da(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(i("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Pa(t)},e}(),Na=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Gi.i)())&&o("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return i("SimpleDb","Removing database:",e),Et(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Gi.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"."}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n=this;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(i("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(e){var n=e.target.result;t(n)},o.onblocked=function(){r(new Da(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Ji(Xi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Da(e,n))},o.onupgradeneeded=function(e){i("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,o.transaction,e.oldVersion,n.version).next(function(){i("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,r){return Object(Hi.b)(this,void 0,void 0,function(){var o,a,s,u,c;return Object(Hi.d)(this,function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,f;return Object(Hi.d)(this,function(h){switch(h.label){case 0:++a,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=h.sent(),t=xa.open(u.db,e,o?"readonly":"readwrite",n),s=r(t).catch(function(e){return t.abort(e),Ca.reject(e)}).toPromise(),c={},s.catch(function(){}),[4,t.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return l=h.sent(),f="FirebaseError"!==l.name&&a<3,i("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Aa=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Et(this.Pt.delete())},e}(),Da=function(e){function t(t,n){var r=this;return(r=e.call(this,Xi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Hi.c)(t,e),t}(Ji),Pa=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(i("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(i("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Et(n)},e.prototype.add=function(e){return i("SimpleDb","ADD",this.store.name,e,e),Et(this.store.add(e))},e.prototype.get=function(e){var t=this;return Et(this.store.get(e)).next(function(n){return void 0===n&&(n=null),i("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return i("SimpleDb","DELETE",this.store.name,e),Et(this.store.delete(e))},e.prototype.count=function(){return i("SimpleDb","COUNT",this.store.name),Et(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Ca(function(n,r){t.onerror=function(e){var t=Tt(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new Ca(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Aa(i),a=t(i.primaryKey,i.value,o);if(a instanceof Ca){var s=a.catch(function(e){return o.done(),Ca.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ca.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),ja=!1,Ra=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(Hi.c)(t,e),t}(Oa),La=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Se(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ie(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ie(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(no.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Fe())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&d(this.mutations,e.mutations,function(e,t){return ke(e,t)})&&d(this.baseMutations,e.baseMutations,function(e,t){return ke(e,t)})},e}(),Fa=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){c(t.mutations.length===r.length);for(var i=Le(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ma=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=no.min()),void 0===o&&(o=no.min()),void 0===a&&(a=uo.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ua=function(e){this.Lt=e},Va=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Rt(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Nt(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return Rt(e).put({bundleId:(n=t).id,createTime:xt(Ke(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Lt(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:jt(t.bundledQuery),readTime:Nt(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Lt(e).put(function(e){return{name:e.name,readTime:xt(Ke(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}(),Ba=function(){function e(){this.Bt=new qa}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ca.resolve()},e.prototype.getCollectionParents=function(e,t){return Ca.resolve(this.Bt.getEntries(t))},e}(),qa=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wo(io.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Wo(io.comparator)).toArray()},e}(),za=function(){function e(){this.qt=new qa}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:vt(i)};return Ft(e).put(o)}return Ca.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[p(t),""],!1,!0);return Ft(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(wt(o.parent))}return n})},e}(),Ka={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wa=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(41943040,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);var Ha=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return c(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bt(e).$t({index:fa.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=qt(e),a=Bt(e);return a.add({}).next(function(s){c("number"==typeof s);for(var u=new La(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return tt(e.Lt,t)}),i=n.mutations.map(function(t){return tt(e.Lt,t)});return new fa(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),f=[],d=new Wo(function(e,t){return h(e.canonicalString(),t.canonicalString())}),p=0,y=r;p<y.length;p++){var m=y[p],v=ha.key(i.userId,m.key.path,s);d=d.add(m.key.path.popLast()),f.push(a.put(l)),f.push(o.put(v,ha.PLACEHOLDER))}return d.forEach(function(t){f.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),Ca.waitFor(f).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Bt(e).get(t).next(function(e){return e?(c(e.userId===n.userId),At(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Ca.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Bt(e).$t({index:fa.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(c(t.batchId>=r),o=At(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bt(e).$t({index:fa.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bt(e).Nt(fa.userMutationsIndex,n).next(function(e){return e.map(function(e){return At(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ha.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return qt(e).$t({range:i},function(r,i,a){var s=r[0],l=r[1],f=r[2],h=wt(l);if(s===n.userId&&t.path.isEqual(h))return Bt(e).get(f).next(function(e){if(!e)throw u();c(e.userId===n.userId),o.push(At(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Wo(h),i=[];return t.forEach(function(t){var o=ha.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=qt(e).$t({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=wt(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Ca.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=ha.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Wo(h);return qt(e).$t({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=wt(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Bt(e).get(t).next(function(e){if(null===e)throw u();c(e.userId===n.userId),r.push(At(n.R,e))}))}),Ca.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Mt(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),Ca.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Ca.resolve();var r=IDBKeyRange.lowerBound(ha.prefixForUser(t.userId)),i=[];return qt(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=wt(e[1]);i.push(o)}else r.done()}).next(function(){c(0===i.length)})})},e.prototype.containsKey=function(e,t){return Vt(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return zt(e).get(this.userId).next(function(e){return e||new la(t.userId,-1,"")})},e}(),Ga=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Qa=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new Ga(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return no.fromTimestamp(new to(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Kt(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return c(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Kt(e).$t(function(a,s){var u=Dt(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return Ca.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return Kt(e).$t(function(e,n){var r=Dt(n);t(r)})},e.prototype.Xt=function(e){return Wt(e).get(ba.key).next(function(e){return c(null!==e),e})},e.prototype.Zt=function(e,t){return Wt(e).put(ba.key,t)},e.prototype.te=function(e,t){return Kt(e).put(Pt(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=z(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kt(e).$t({range:r,index:va.queryTargetsIndexName},function(e,n,r){var o=Dt(n);K(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Ht(e);return t.forEach(function(t){var a=vt(t.path);i.push(o.put(new ga(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),Ca.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Ht(e);return Ca.forEach(t,function(t){var o=vt(t.path);return Ca.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Ht(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ht(e),i=Fe();return r.$t({range:n,Ft:!0},function(e,t,n){var r=wt(e[1]),o=new ho(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=vt(t.path),r=IDBKeyRange.bound([n],[p(n)],!1,!0),i=0;return Ht(e).$t({index:ga.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return Kt(e).get(t).next(function(e){return e?Dt(e):null})},e}(),$a=function(){function e(e){this.ne=e,this.buffer=new Wo(Qt),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qt(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Ya=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Hi.b)(t,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return _t(t=n.sent())?(i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Gt(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),Xa=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ca.resolve(Yi.o);var r=new $a(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(i("LruGarbageCollector","Garbage collection skipped; disabled"),Ca.resolve(Ka)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ka):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,o,a,s,u,c,l,f=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>f.params.maximumSequenceNumbersToCollect?(i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+t),o=f.params.maximumSequenceNumbersToCollect):o=t,s=Date.now(),f.nthSequenceNumber(e,o)}).next(function(r){return n=r,u=Date.now(),f.removeTargets(e,n,t)}).next(function(t){return a=t,c=Date.now(),f.removeOrphanedDocuments(e,n)}).next(function(e){return l=Date.now(),r()<=Qi.a.DEBUG&&i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+o+" in "+(u-s)+"ms\n\tRemoved "+a+" targets in "+(c-u)+"ms\n\tRemoved "+e+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-h)+"ms"),Ca.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:e})})},e}(),Ja=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Xa(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return $t(e,n)},e.prototype.removeReference=function(e,t,n){return $t(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return $t(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return zt(e).Ot(function(r){return Vt(e,r,t).next(function(e){return e&&(n=!0),Ca.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),Ht(e).delete([0,vt(a.path)])})});i.push(u)}}).next(function(){return Ca.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return $t(e,t)},e.prototype.we=function(e,t){var n,r=Ht(e),i=Yi.o;return r.$t({index:ga.documentTargetsIndex},function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Yi.o&&t(new ho(wt(n)),i),i=s,n=a):i=Yi.o}).next(function(){i!==Yi.o&&t(new ho(wt(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}(),Za=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){m(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return v(this.inner)},e}(),es=function(){function e(){this.changes=new Za(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:no.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:yo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ca.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ts=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Xt(e).put(Jt(t),n)},e.prototype.removeEntry=function(e,t){var n=Xt(e),r=Jt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return Xt(e).get(Jt(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return Xt(e).get(Jt(t)).next(function(e){return{document:n.ye(t,e),size:Ut(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=je();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=je(),i=new qo(ho.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Ut(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ca.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Xt(e).$t({range:r},function(e,t,r){for(var a=ho.fromSegments(e);o&&ho.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=je(),o=t.path.length+1,a={};if(n.isEqual(no.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=kt(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ya.collectionReadTimeIndex}return Xt(e).$t(a,function(e,n,a){if(e.length===o){var s=It(r.R,n);t.path.isPrefixOf(s.key.path)?le(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new ns(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Yt(e).get(ma.key).next(function(e){return c(!!e),e})},e.prototype.me=function(e,t){return Yt(e).put(ma.key,t)},e.prototype.ye=function(e,t){if(t){var n=It(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(no.min()))return n}return yo.newInvalidDocument(e)},e}(),ns=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Za(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(Hi.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Wo(function(e,t){return h(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ot(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Ut(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Ot(t.Ie.R,yo.newNoDocument(o,no.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),Ca.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(es),rs=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;c(n<r&&n>=0&&r<=11);var o=new xa("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ca.store)}(e),function(e){e.createObjectStore(la.store,{keyPath:la.keyPath}),e.createObjectStore(fa.store,{keyPath:fa.keyPath,autoIncrement:!0}).createIndex(fa.userMutationsIndex,fa.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ha.store)}(e),Zt(e),function(e){e.createObjectStore(ya.store)}(e));var a=Ca.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ga.store),e.deleteObjectStore(va.store),e.deleteObjectStore(ba.store)}(e),Zt(e)),a=a.next(function(){return function(e){var t=e.store(ba.store),n=new ba(0,0,no.min().toTimestamp(),0);return t.put(ba.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(fa.store).Nt().next(function(n){e.deleteObjectStore(fa.store),e.createObjectStore(fa.store,{keyPath:fa.keyPath,autoIncrement:!0}).createIndex(fa.userMutationsIndex,fa.userMutationsKeyPath,{unique:!0});var r=t.store(fa.store),i=n.map(function(e){return r.put(e)});return Ca.waitFor(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(_a.store,{keyPath:_a.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(ma.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ya.store);t.createIndex(ya.readTimeIndex,ya.readTimeIndexPath,{unique:!1}),t.createIndex(ya.collectionReadTimeIndex,ya.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(e){e.createObjectStore(Ea.store,{keyPath:Ea.keyPath})}(e),function(e){e.createObjectStore(Ta.store,{keyPath:Ta.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(ya.store).$t(function(e,n){t+=Ut(n)}).next(function(){var n=new ma(t);return e.store(ma.store).put(ma.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(la.store),r=e.store(fa.store);return n.Nt().next(function(n){return Ca.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(fa.userMutationsIndex,i).next(function(r){return Ca.forEach(r,function(r){c(r.userId===n.userId);var i=At(t.R,r);return Mt(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(ga.store),n=e.store(ya.store);return e.store(ba.store).get(ba.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new io(n),a=function(e){return[0,vt(e)]}(o);r.push(t.get(a).next(function(n){return n?Ca.resolve():function(n){return t.put(new ga(0,vt(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return Ca.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(wa.store,{keyPath:wa.keyPath});var n=t.store(wa.store),r=new qa,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vt(i)})}};return t.store(ya.store).$t({Ft:!0},function(e,t){var n=new io(e);return i(n.popLast())}).next(function(){return t.store(ha.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];e[2];var r=wt(n);return i(r.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(va.store);return n.$t(function(e,r){var i=Dt(r),o=Pt(t.R,i);return n.put(o)})},e}(),is="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",os=function(){function e(t,n,r,i,a,s,u,c,l,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=a,this.window=s,this.document=u,this.De=l,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ji(Xi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ja(this,i),this.Le=n+"main",this.R=new Ua(c),this.Be=new Na(this.Le,11,new rs(this.R)),this.qe=new Qa(this.referenceDelegate,this.R),this.Ut=new za,this.Ue=function(e,t){return new ts(e,t)}(this.R,this.Ut),this.Ke=new Va,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&o("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ji(Xi.FAILED_PRECONDITION,is);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Yi(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(Hi.b)(t,void 0,void 0,function(){return Object(Hi.d)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return Object(Hi.b)(t,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return Object(Hi.b)(t,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return tn(t).put(new _a(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(_t(t))return i("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return en(e).get(ca.key).next(function(e){return Ca.resolve(t.tn(e))})},e.prototype.en=function(e){return tn(e).delete(this.clientId)},e.prototype.nn=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t,n,r,i=this;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=St(e,_a.store);return t.Nt().next(function(e){var n=i.rn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return Ca.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ca.resolve(!0):en(e).get(ca.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ji(Xi.FAILED_PRECONDITION,is);return!1}}return!(!t.networkEnabled||!t.inForeground)||tn(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&i("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e=this;return Object(Hi.d)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ca.store,_a.store],function(t){var n=new Ra(t,Yi.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return tn(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Ha.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;i("IndexedDbPersistence","Starting transaction:",e);var a,s="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,s,Sa,function(i){return a=new Ra(i,r.Ne?r.Ne.next():Yi.o),"readwrite-primary"===t?r.Je(a).next(function(e){return!!e||r.Ye(a)}).next(function(t){if(!t)throw o("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new Ji(Xi.FAILED_PRECONDITION,Ia);return n(a)}).next(function(e){return r.Ze(a).next(function(){return e})}):r.dn(a).next(function(){return n(a)})}).then(function(e){return a.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return en(e).get(ca.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ji(Xi.FAILED_PRECONDITION,is)})},e.prototype.Ze=function(e){var t=new ca(this.clientId,this.allowTabSynchronization,Date.now());return en(e).put(ca.key,t)},e.yt=function(){return Na.yt()},e.prototype.Xe=function(e){var t=this,n=en(e);return n.get(ca.key).next(function(e){return t.tn(e)?(i("IndexedDbPersistence","Releasing primary lease."),n.delete(ca.key)):Ca.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(o("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(Gi.q)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return i("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return o("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){o("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}(),as=function(e,t){this.progress=e,this.wn=t},ss=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ho.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):re(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ho(t)).next(function(e){var t=Re();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Re();return this.Ut.getCollectionParents(e,i).next(function(a){return Ca.forEach(a,function(a){var s=function(e,t){return new ko(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Rn(e,i,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=yo.newInvalidDocument(c),r=r.insert(c,l)),Ie(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){le(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=Fe(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Mo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),us=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Fe(),i=Fe(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),cs=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,o){var a=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(no.min())?this.Dn(e,t):this.Sn.pn(e,o).next(function(s){var u=a.Cn(t,s);return(Z(t)||ee(t))&&a.Nn(t.limitType,u,o,n)?a.Dn(e,t):(r()<=Qi.a.DEBUG&&i("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ce(t)),a.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return u.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Wo(fe(e));return t.forEach(function(t,r){le(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return r()<=Qi.a.DEBUG&&i("QueryEngine","Using full collection scan to execute query:",ce(t)),this.Sn.getDocumentsMatchingQuery(e,t,no.min())},e}(),ls=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new qo(h),this.Fn=new Za(function(e){return z(e)},K),this.$n=no.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new ss(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}(),fs=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ca.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ke(n.createTime)}),Ca.resolve()},e.prototype.getNamedQuery=function(e,t){return Ca.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:jt(e.bundledQuery),readTime:Ke(e.readTime)}}(t)),Ca.resolve()},e}(),hs=function(){function e(){this.Wn=new Wo(ds.Gn),this.zn=new Wo(ds.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new ds(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new ds(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new ho(new io([])),r=new ds(n,e),i=new ds(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ho(new io([])),n=new ds(t,e),r=new ds(t,e+1),i=Fe();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new ds(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ds=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ho.comparator(e.key,t.key)||h(e.ns,t.ns)},e.Hn=function(e,t){return h(e.ns,t.ns)||ho.comparator(e.key,t.key)},e}(),ps=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Wo(ds.Gn)}return e.prototype.checkEmpty=function(e){return Ca.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new La(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new ds(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Ca.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ca.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Ca.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ca.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ca.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ds(t,0),i=new ds(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),Ca.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Wo(h);return t.forEach(function(e){var t=new ds(e,0),i=new ds(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),Ca.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ho.isDocumentKey(i)||(i=i.child(""));var o=new ds(new ho(i),0),a=new Wo(h);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),Ca.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;c(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ca.forEach(t.mutations,function(i){var o=new ds(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new ds(t,0),r=this.rs.firstAfterOrEqual(n);return Ca.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Ca.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ys=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new qo(ho.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ca.resolve(n?n.document.clone():yo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=je();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():yo.newInvalidDocument(e))}),Ca.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=je(),i=new ho(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||le(t,c)&&(r=r.insert(c.key,c.clone()))}return Ca.resolve(r)},e.prototype.fs=function(e,t){return Ca.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new ms(this)},e.prototype.getSize=function(e){return Ca.resolve(this.size)},e}(),ms=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(Hi.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),Ca.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(es),vs=function(){function e(e){this.persistence=e,this.ds=new Za(function(e){return z(e)},K),this.lastRemoteSnapshotVersion=no.min(),this.highestTargetId=0,this.ws=0,this._s=new hs,this.targetCount=0,this.ys=Ga.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),Ca.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ca.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ca.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ca.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ca.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Ga(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ca.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ca.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ca.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Ca.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return Ca.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ca.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ca.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Ca.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ca.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ca.resolve(n)},e.prototype.containsKey=function(e,t){return Ca.resolve(this._s.containsKey(t))},e}(),gs=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Yi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new vs(this),this.Ut=new Ba,this.Ue=function(e,t){return new ys(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new Ua(t),this.Ke=new fs(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ps(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;i("MemoryPersistence","Starting transaction:",e);var o=new bs(this.Ne.next());return this.referenceDelegate.Es(),n(o).next(function(e){return r.referenceDelegate.Ts(o).next(function(){return e})}).toPromise().then(function(e){return o.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return Ca.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),bs=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(Hi.c)(t,e),t}(Oa),ws=function(){function e(e){this.persistence=e,this.As=new hs,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw u()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ca.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ca.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ca.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ca.forEach(this.vs,function(r){var i=ho.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ca.or([function(){return Ca.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),_s=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");var Es=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,a=JSON.parse(r),s="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return s&&a.error&&(s="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ji(a.error.code,a.error.message)),s?new e(t,n,a.state,i):(o("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ts=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ji(i.error.code,i.error.message)),a?new e(t,i.state,r):(o("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ss=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Me(),s=0;i&&s<r.activeTargetIds.length;++s)i=O(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new e(t,a):(o("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Is=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(o("SharedClientState","Failed to parse online state: "+t),null)},e}(),Os=function(){function e(){this.activeTargetIds=Me()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ks=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new qo(h),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=bn(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Os),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return Object(Hi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(bn(this.persistenceKey,r)))&&(o=Ss.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_n(this.persistenceKey,e));if(n){var r=Ts.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(_n(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return i("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){i("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){i("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void o("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Hi.b)(t,void 0,void 0,function(){var e,t,r,i,a,s;return Object(Hi.d)(this,function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(e){var t=Yi.o;if(null!=e)try{var n=JSON.parse(e);c("number"==typeof n),t=n}catch(e){o("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Yi.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Es(this.currentUser,e,t,n),i=wn(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=wn(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=_n(this.persistenceKey,e),i=new Ts(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Ss.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Es.Vs(new _s(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Ts.Vs(r,t)},e.prototype.js=function(e){return Is.Vs(e)},e.prototype.ii=function(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(i("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Me();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),Cs=function(){function e(){this.li=new Os,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Os,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),xs=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Ns=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),As={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ds=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Ps=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(Hi.c)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(o,a){var s=new $i.g;s.listenOnce($i.c.COMPLETE,function(){try{switch(s.getLastErrorCode()){case $i.a.NO_ERROR:var t=s.getResponseJson();i("Connection","XHR received:",JSON.stringify(t)),o(t);break;case $i.a.TIMEOUT:i("Connection",'RPC "'+e+'" timed out'),a(new Ji(Xi.DEADLINE_EXCEEDED,"Request time out"));break;case $i.a.HTTP_ERROR:var n=s.getStatus();if(i("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xi).indexOf(t)>=0?t:Xi.UNKNOWN}(r.status);a(new Ji(c,r.message))}else a(new Ji(Xi.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ji(Xi.UNAVAILABLE,"Connection failed."));break;default:u()}}finally{i("Connection",'RPC "'+e+'" completed.')}});var c=JSON.stringify(r);s.send(t,"POST",c,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object($i.h)(),o=Object($i.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new $i.d({})),this.ki(s.initMessageHeaders,t),Object(Gi.n)()||Object(Gi.p)()||Object(Gi.l)()||Object(Gi.m)()||Object(Gi.r)()||Object(Gi.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");i("Connection","Creating WebChannel: "+u,s);var l=r.createWebChannel(u,s),f=!1,h=!1,d=new Ds({Ei:function(e){h?i("Connection","Not sending because WebChannel is closed:",e):(f||(i("Connection","Opening WebChannel transport."),l.open(),f=!0),i("Connection","WebChannel sending:",e),l.send(e))},Ti:function(){return l.close()}}),p=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return p(l,$i.f.EventType.OPEN,function(){h||i("Connection","WebChannel transport opened.")}),p(l,$i.f.EventType.CLOSE,function(){h||(h=!0,i("Connection","WebChannel transport closed"),d.Vi())}),p(l,$i.f.EventType.ERROR,function(e){h||(h=!0,a("Connection","WebChannel transport errored:",e),d.Vi(new Ji(Xi.UNAVAILABLE,"The operation could not be completed")))}),p(l,$i.f.EventType.MESSAGE,function(e){var t;if(!h){var n=e.data[0];c(!!n);var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){i("Connection","WebChannel received error:",o);var a=o.status,s=function(e){var t=co[e];if(void 0!==t)return Pe(t)}(a),u=o.message;void 0===s&&(s=Xi.INTERNAL,u="Unknown error status: "+a+" with message "+o.message),h=!0,d.Vi(new Ji(s,u)),l.close()}else i("Connection","WebChannel received:",n),d.Si(n)}}),p(o,$i.b.STAT_EVENT,function(e){e.stat===$i.e.PROXY?i("Connection","Detected buffering proxy"):e.stat===$i.e.NOPROXY&&i("Connection","Detected no buffering proxy")}),setTimeout(function(){d.Pi()},0),d},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var o=this.xi(e,t);i("RestConnection","Sending: ",o,n);var s={};return this.ki(s,r),this.Fi(e,o,s,n).then(function(e){return i("RestConnection","Received: ",e),e},function(t){throw a("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=As[e];return this.Di+"/v1/"+t+":"+n},e}()),js=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),o=Math.max(0,n-r);o>0&&i("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Rs=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new js(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Xi.RESOURCE_EXHAUSTED?(o(t.toString()),o("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Xi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new Ji(Xi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return Object(Hi.b)(e,void 0,void 0,function(){return Object(Hi.d)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return i("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Ls=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(Hi.c)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:u()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(c(void 0===t||"string"==typeof t),uo.fromBase64String(t||"")):(c(void 0===t||t instanceof Uint8Array),uo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Xi.UNKNOWN:Pe(e.code);return new Ji(t,e.message||"")}(s);n=new na(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Qe(e,r.document.name),o=Ke(r.document.updateTime);var s=new po({mapValue:{fields:r.document.fields}}),l=(a=yo.newFoundDocument(i,o,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new ea(l,f,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Qe(e,r.document),o=r.readTime?Ke(r.readTime):no.min(),s=yo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ea([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Qe(e,r.document),o=r.removedTargetIds||[],n=new ea([],o,i,null);else{if(!("filter"in t))return u();t.filter;var h=t.filter;h.targetId,r=h.count||0,i=new Bo(r),o=h.targetId,n=new ta(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return no.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?no.min():t.readTime?Ke(t.readTime):no.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Xe(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=W(r)?{documents:rt(e,r)}:{query:it(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qe(e,t.resumeToken):t.snapshotVersion.compareTo(no.min())>0&&(n.readTime=Be(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return u()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Xe(this.R),t.removeTarget=e,this.cr(t)},t}(Rs),Fs=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(Hi.c)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(c(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(c(void 0!==t),e.map(function(e){return function(e,t){var n=Ke(e.updateTime?e.updateTime:t);return n.isEqual(no.min())&&(n=Ke(t)),new jo(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Ke(e.commitTime);return this.listener.Tr(n,t)}return c(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Xe(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return tt(t.R,e)})};this.cr(n)},t}(Rs),Ms=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Hi.c)(t,e),t.prototype.br=function(){if(this.Rr)throw new Ji(Xi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Xi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ji(Xi.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Xi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ji(Xi.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Us=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):++this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline"))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(o(t),this.Vr=!1):i("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Vs=function(e,t,n,r,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(e){n.enqueueAndForget(function(){return Object(Hi.b)(a,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return Pn(this)?(i("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return(t=l(e)).Or.add(4),[4,On(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,In(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new Us(n,r)},Bs=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ji(Xi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),qs=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ho.comparator(t.key,n.key)}:function(e,t){return ho.comparator(e.key,t.key)},this.keyedMap=Re(),this.sortedSet=new qo(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),zs=function(){function e(){this.Qr=new qo(ho.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):u():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Ks=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,qs.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&se(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ws=function(){this.Wr=void 0,this.listeners=[]},Hs=function(){this.queries=new Za(function(e){return ue(e)},se),this.onlineState="Unknown",this.Gr=new Set},Gs=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ks(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Qs=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),$s=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Qe(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?et(this.R,e.document,!1):yo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Ke(e)},e}(),Ys=(function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=nr(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new $s(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Fe()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return[4,vn(this.localStore,new $s(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,gn(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new as(Object.assign({},this.progress),e))]}})})}}(),function(e){this.key=e}),Xs=function(e){this.key=e},Js=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Fe(),this.mutatedKeys=Fe(),this.lo=fe(e),this.fo=new qs(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new zs,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Z(this.query)&&i.size===this.query.limit?i.last():null,c=ee(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=le(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),Z(this.query)||ee(this.query))for(;a.size>this.query.limit;){var l=Z(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return u()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,c=s!==this.ao;return this.ao=s,0!==o.length||c?{snapshot:new Ks(this.query,e.fo,i,o,e.mutatedKeys,0===s,c,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zs,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Fe(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new Xs(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new Ys(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Fe();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Ks.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Zs=function(e,t,n){this.query=e,this.targetId=t,this.view=n},eu=function(e){this.key=e,this.bo=!1},tu=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Za(function(e){return ue(e)},se),this.Vo=new Map,this.So=new Set,this.Do=new qo(ho.comparator),this.Co=new Map,this.No=new hs,this.xo={},this.ko=new Map,this.Fo=Ga.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}(),nu=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return this.R=Sn(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return rn(this.persistence,new cs,e.initialUser,this.R)},e.prototype.qo=function(e){return new gs(ws.bs,this.R)},e.prototype.Bo=function(e){return new Cs},e.prototype.terminate=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),ru=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Hi.c)(t,e),t.prototype.initialize=function(t){return Object(Hi.b)(this,void 0,void 0,function(){var n=this;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,mn(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Pr(this.Qo.syncEngine)];case 4:return r.sent(),[4,Vn(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return rn(this.persistence,new cs,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ya(t,e.asyncQueue)},t.prototype.qo=function(e){var t=nn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wa.withCacheSize(this.cacheSizeBytes):Wa.DEFAULT;return new os(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,En(),Tn(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Cs},t}(nu),iu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Hi.c)(t,e),t.prototype.initialize=function(t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ks?(this.sharedClientState.syncEngine={ui:Ir.bind(null,n),ai:Nr.bind(null,n),hi:Ar.bind(null,n),fn:xr.bind(null,n),ci:Sr.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return Object(Hi.b)(r,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return[4,Or(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=En();if(!ks.yt(t))throw new Ji(Xi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nn(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ks(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ru),ou=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n=this;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ur(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_r.bind(null,this.syncEngine),[4,Gn(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new Hs},e.prototype.createDatastore=function(e){var t,n=Sn(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ps(t));return function(e,t,n){return new Ms(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ur(a.syncEngine,e,0)},o=Ns.yt()?new Ns:new xs,new Vs(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new tu(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t=l(e),i("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,On(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),au=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),su=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ka,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t,n,r;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Qs(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t,n=this;return Object(Hi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ji(Xi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(Hi.d)(this,function(f){switch(f.label){case 0:return n=l(e),r=Xe(n.R)+"/documents",i={documents:t.map(function(e){return Ge(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=f.sent(),a=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){c(!!t.found),t.found.name,t.found.updateTime;var n=Qe(e,t.found.name),r=Ke(t.found.updateTime),i=new po({mapValue:{fields:t.found.fields}});return yo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){c(!!t.missing),c(!!t.readTime);var n=Qe(e,t.missing),r=Ke(t.readTime);return yo.newNoDocument(n,r)}(e,t):u()}(n.R,e);a.set(t.key.toString(),t)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());c(!!t),s.push(t)}),s)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Uo(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t=this;return Object(Hi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=ho.fromPath(n);t.mutations.push(new Vo(r,t.precondition(r)))}),[4,function(e,t){return Object(Hi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return n=l(e),r=Xe(n.R)+"/documents",i={writes:t.map(function(e){return tt(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw u();t=no.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ji(Xi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ro.updateTime(t):Ro.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(no.min()))throw new Ji(Xi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ro.updateTime(t)}return Ro.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),uu=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new js(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return Object(Hi.b)(e,void 0,void 0,function(){var e,t,n=this;return Object(Hi.d)(this,function(r){return e=new su(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!S(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!De(t)}return!1},e}(),cu=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=_s.UNAUTHENTICATED,this.clientId=eo.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return Object(Hi.b)(r,void 0,void 0,function(){return Object(Hi.d)(this,function(t){switch(t.label){case 0:return i("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return Object(Hi.b)(this,void 0,void 0,function(){return Object(Hi.d)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ji(Xi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Hi.b)(e,void 0,void 0,function(){var e,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Yn(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}(),lu=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},fu=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),hu=new Map,du=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},pu=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(_s.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),yu=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),mu=function(){function e(e){var t=this;this.currentUser=_s.UNAUTHENTICATED,this.oc=new ka,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){i("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(i("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(i("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(c("string"==typeof n.accessToken),new du(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return Object(Hi.b)(n,void 0,void 0,function(){return Object(Hi.d)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return c(null===e||"string"==typeof e),new _s(e)},e}(),vu=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=_s.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),gu=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new vu(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(_s.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}(),bu=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ji(Xi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ji(Xi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gr("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),wu=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bu({}),this._settingsFrozen=!1,e instanceof fu?(this._databaseId=e,this._credentials=new pu):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ji(Xi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(e.options.projectId)}(e),this._credentials=new mu(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bu(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new pu;switch(e.type){case"gapi":var t=e.client;return c(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new gu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ji(Xi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return e=this,(t=hu.get(e))&&(i("ComponentProvider","Removing Datastore"),hu.delete(e),t.terminate()),Promise.resolve();var e,t},e}(),_u=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tu(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Eu=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Tu=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,J(r))||this)._path=r,i.type="collection",i}return Object(Hi.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new _u(this.firestore,null,new ho(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Eu),Su=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new js(this,"async_queue_retry"),this.Ic=function(){var t=Tn();t&&i("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Tn();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Tn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new ka;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e,t=this;return Object(Hi.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!_t(e=n.sent()))throw e;return i("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,o("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Bs.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&u()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Object(Hi.b)(this,void 0,void 0,function(){var e;return Object(Hi.d)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}(),Iu=(function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ka,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}(),-1),Ou=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Su,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(Hi.c)(t,e),t.prototype._terminate=function(){return this._firestoreClient||oi(this),this._firestoreClient.terminate()},t}(wu),ku=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ao(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Cu=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(uo.fromBase64String(t))}catch(t){throw new Ji(Xi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(uo.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),xu=function(e){this._methodName=e},Nu=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ji(Xi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ji(Xi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return h(this._lat,e._lat)||h(this._long,e._long)},e}(),Au=/^__.*__$/,Du=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fo(e,this.data,t,this.fieldTransforms)},e}(),Pu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}(),ju=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return _i(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ui(this.Nc)&&Au.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Ru=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Sn(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new ju({Nc:e,methodName:t,qc:n,path:ao.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}(),Lu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(xu),Fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype._toFieldTransform=function(e){return new Po(e.path,new xo)},t.prototype.isEqual=function(e){return e instanceof t},t}(xu),Mu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(Hi.c)(t,e),t.prototype._toFieldTransform=function(e){var t=fi(this,e,!0),n=this.Kc.map(function(e){return yi(e,t)}),r=new No(n);return new Po(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xu),Uu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(Hi.c)(t,e),t.prototype._toFieldTransform=function(e){var t=fi(this,e,!0),n=this.Kc.map(function(e){return yi(e,t)}),r=new Ao(n);return new Po(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xu),Vu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Object(Hi.c)(t,e),t.prototype._toFieldTransform=function(e){var t=new Do(e.R,ye(e.R,this.Qc));return new Po(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(xu),Bu=new RegExp("[~\\*/\\[\\]]"),qu=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new _u(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new zu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Ti("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(qu),Ku=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Wu=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Object(Hi.c)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Ti("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(qu),Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Wu),Gu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ku(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Hu(n._firestore,n._userDataWriter,r.key,r,new Ku(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ji(Xi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Hu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Hu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Si(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}(),Qu=function(){},$u=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Object(Hi.c)(t,e),t.prototype._apply=function(e){var t=ci(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ni(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(xi(r,e,f))}s={arrayValue:{values:u}}}else s=xi(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ni(a,o),s=pi(n,"where",a,"in"===o||"not-in"===o);var h=vo.create(i,o,s);return function(e,t){if(t.g()){var n=ne(e);if(null!==n&&!n.isEqual(t.field))throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=te(e);null!==r&&Ai(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Eu(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Qu),Yu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Object(Hi.c)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oo(t,n);return function(e,t){if(null===te(e)){var n=ne(e);null!==n&&Ai(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Eu(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ko(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Qu),Xu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(Hi.c)(t,e),t.prototype._apply=function(e){return new Eu(e.firestore,e.converter,ae(e._query,this.Hc,this.Jc))},t}(Qu),Ju=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(Hi.c)(t,e),t.prototype._apply=function(e){var t=Ci(e,this.type,this.Yc,this.Xc);return new Eu(e.firestore,e.converter,function(e,t){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Qu),Zu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Object(Hi.c)(t,e),t.prototype._apply=function(e){var t=Ci(e,this.type,this.Yc,this.Xc);return new Eu(e.firestore,e.converter,function(e,t){return new ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Qu),ec=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),k(e)){case 0:return null;case 1:return e.booleanValue;case 2:return b(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(w(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw u()}},e.prototype.convertObject=function(e,t){var n=this,r={};return m(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new Nu(b(e.latitude),b(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=E(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(T(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=g(e);return new to(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=io.fromString(e);c(mt(n));var r=new fu(n.get(1),n.get(3)),i=new ho(n.popFirst(5));return r.isEqual(t)||o("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}(),tc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Hi.c)(t,e),t.prototype.convertBytes=function(e){return new Cu(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _u(this.firestore,null,t)},t}(ec),nc=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ci(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Pi(e,this._firestore),i=Di(r.converter,t,n),o=li(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ro.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Pi(e,this._firestore);return o="string"==typeof(t=Object(Gi.h)(t))||t instanceof ku?di(this._dataReader,"WriteBatch.update",a._key,t,n,r):hi(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ro.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Pi(e,this._firestore);return this._mutations=this._mutations.concat(new Uo(t._key,Ro.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ji(Xi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),rc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Hi.c)(t,e),t.prototype.convertBytes=function(e){return new Cu(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _u(this.firestore,null,t)},t}(ec),ic=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(Hi.c)(t,e),t.prototype.get=function(t){var n=this,r=Pi(t,this._firestore),i=new rc(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new Wu(n._firestore,i,r._key,e._document,new Ku(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ci(e)}return e.prototype.get=function(e){var t=this,n=Pi(e,this._firestore),r=new tc(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return u();var i=e[0];if(i.isFoundDocument())return new qu(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qu(t._firestore,r,n._key,null,n.converter);throw u()})},e.prototype.set=function(e,t,n){var r=Pi(e,this._firestore),i=Di(r.converter,t,n),o=li(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Pi(e,this._firestore);return o="string"==typeof(t=Object(Gi.h)(t))||t instanceof ku?di(this._dataReader,"Transaction.update",a._key,t,n,r):hi(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Pi(e,this._firestore);return this._transaction.delete(t._key),this},e}()),oc=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Vi(),new e(Cu.fromBase64String(t))},e.fromUint8Array=function(t){return Ui(),new e(Cu.fromUint8Array(t))},e.prototype.toBase64=function(){return Vi(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ui(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),ac=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){si(e=Xr(e,Ou));var n=ii(e),r=e._freezeSettings(),i=new ou;return ai(n,i,new ru(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){si(e=Xr(e,Ou));var t=ii(e),n=e._freezeSettings(),r=new ou;return ai(t,r,new iu(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ji(Xi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ka;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Hi.b)(t,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return Na.yt()?(t=e+"main",[4,Na.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(nn(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),sc=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof fu||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Xr(e,wu))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&a("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=_s.MOCK_USER;else{s=Object(Gi.d)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ji(Xi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _s(c)}e._credentials=new yu(new du(s,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(Hi.b)(t,void 0,void 0,function(){var t,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return[4,Mr(e)];case 1:return t=r.sent(),[4,Vr(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=l(e);return t.Or.delete(0),In(t)}(n))]}})})})}(ii(Xr(this._delegate,Ou)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return Object(Hi.b)(t,void 0,void 0,function(){var t,n;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return[4,Mr(e)];case 1:return t=r.sent(),[4,Vr(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(Hi.b)(this,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return(t=l(e)).Or.add(0),[4,On(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(ii(Xr(this._delegate,Ou)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Gr("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(t,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(r){switch(r.label){case 0:return t=hr,[4,Br(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ii(Xr(this._delegate,Ou)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new au(t);return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t=function(e,t){l(e).Gr.add(t),t.next()},[4,qr(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var t;return Object(Hi.d)(this,function(n){switch(n.label){case 0:return t=function(e,t){l(e).Gr.delete(t)},[4,qr(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(ii(e=Xr(e,Ou)),ri(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gc(this,Zr(this._delegate,e))}catch(e){throw qi(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new hc(this,ei(this._delegate,e))}catch(e){throw qi(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new yc(this,function(e,t){if(e=Xr(e,wu),Wr("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Eu(e,null,function(e){return new ko(io.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw qi(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var n;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return[4,function(e){return Fr(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new uu(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(ii(e),function(n){return t(new ic(e,n))})}(this._delegate,function(n){return e(new cc(t,n))})},e.prototype.batch=function(){var e=this;return ii(this._delegate),new lc(new nc(this._delegate,function(t){return Fi(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new Ji(Xi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ji(Xi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),uc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Hi.c)(t,e),t.prototype.convertBytes=function(e){return new oc(new Cu(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hc.eu(t,this.firestore,null)},t}(ec),cc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.prototype.get=function(e){var t=this,n=Wi(e);return this._delegate.get(n).then(function(e){return new dc(t._firestore,new Wu(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=Wi(e);return n?(Hr("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Wi(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Object(Hi.f)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Wi(e);return this._delegate.delete(t),this},e}(),lc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Wi(e);return n?(Hr("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Wi(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Object(Hi.f)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Wi(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),fc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Hu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new uc(t),n),i.set(n,o)),o},e}();fc.su=new WeakMap;var hc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Ji(Xi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new _u(n._delegate,r,new ho(t)))},e.eu=function(t,n,r){return new e(n,new _u(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new gc(this.firestore,Zr(this._delegate,e))}catch(e){throw qi(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(Gi.h)(e))instanceof _u&&ti(this._delegate,e)},e.prototype.set=function(e,t){t=Hr("DocumentReference.set",t);try{return t?ji(this._delegate,e,t):ji(this._delegate,e)}catch(e){throw qi(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ri(this._delegate,e):Ri.apply(void 0,Object(Hi.f)([this._delegate,e,t],n))}catch(e){throw qi(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Fi(Xr((e=this._delegate).firestore,Ou),[new Uo(e._key,Ro.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zi(t),i=Ki(t,function(t){return new dc(e.firestore,new Wu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Li(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Xr(e,_u);var t=Xr(e.firestore,Ou),n=ii(t),r=new rc(t);return function(e,t){var n=this,r=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var n;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i;return Object(Hi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=l(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ji(Xi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Yn(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ur(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new Wu(t,r,e._key,n,new Ku(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xr(e,_u);var t=Xr(e.firestore,Ou);return zr(ii(t),e._key,{source:"server"}).then(function(n){return Mi(t,e,n)})}(this._delegate):function(e){e=Xr(e,_u);var t=Xr(e.firestore,Ou);return zr(ii(t),e._key).then(function(n){return Mi(t,e,n)})}(this._delegate)).then(function(e){return new dc(t.firestore,new Wu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Ii(this._delegate,e._delegate)},e}(),pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Hi.c)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(dc),yc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uc(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ki(this._delegate,function(e,t,n){var r=t,i=Ti("where",e);return new $u(i,r,n)}(t,n,r)))}catch(t){throw qi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ki(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Ti("orderBy",e);return new Yu(r,n)}(t,n)))}catch(t){throw qi(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ki(this._delegate,function(e){return Jr("limit",e),new Xu("limit",e,"F")}(t)))}catch(t){throw qi(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ki(this._delegate,function(e){return Jr("limitToLast",e),new Xu("limitToLast",e,"L")}(t)))}catch(t){throw qi(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ju("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw qi(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ju("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw qi(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw qi(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Zu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw qi(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return ni(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Xr(e,Eu);var t=Xr(e.firestore,Ou),n=ii(t),r=new rc(t);return function(e,t){var n=this,r=new ka;return e.asyncQueue.enqueueAndForget(function(){return Object(Hi.b)(n,void 0,void 0,function(){var n;return Object(Hi.d)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(Hi.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(Hi.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,dn(e,t,!0)];case 1:return s=u.sent(),r=new Js(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Yn(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Ur(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new Gu(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xr(e,Eu);var t=Xr(e.firestore,Ou),n=ii(t),r=new rc(t);return Kr(n,e._query,{source:"server"}).then(function(n){return new Gu(t,r,e,n)})}(this._delegate):function(e){e=Xr(e,Eu);var t=Xr(e.firestore,Ou),n=ii(t),r=new rc(t);return Oi(e._query),Kr(n,e._query).then(function(n){return new Gu(t,r,e,n)})}(this._delegate)).then(function(e){return new vc(t.firestore,new Gu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zi(t),i=Ki(t,function(t){return new vc(e.firestore,new Gu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Li(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),mc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),vc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new yc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new pc(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new mc(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new pc(n._firestore,r))})},e.prototype.isEqual=function(e){return Ii(this._delegate,e._delegate)},e}(),gc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(Hi.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new hc(this.firestore,void 0===e?ei(this._delegate):ei(this._delegate,e))}catch(e){throw qi(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Xr(e.firestore,Ou),r=ei(e),i=Di(e.converter,t);return Fi(n,[li(ci(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ro.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new hc(t.firestore,e)})},t.prototype.isEqual=function(e){return ti(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(fc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(yc),bc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ku.bind.apply(ku,Object(Hi.f)([void 0],e)))}return e.documentId=function(){return new e(ao.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(Gi.h)(e))instanceof ku&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),wc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Fu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Lu("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mu("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Vu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}()}).call(t,n(29))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],y=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e.crops,n=e.updateCrop,i=e.deleteCrop,o=e.id;return a.a.createElement("form",{id:o},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-hd name"},a.a.createElement("h3",null,"Name")),a.a.createElement("div",{className:"col-hd season"},a.a.createElement("h3",null,"Season(s)"))),t.map(function(e,t){return a.a.createElement("div",{className:"row",key:"crop-row-"+t},a.a.createElement("div",{className:"name"},a.a.createElement("input",{type:"text",value:e.name||"",onChange:function(e){return n(t,{name:e.target.value})},placeholder:"Add crop name"})),a.a.createElement("div",{className:"season"},e.seasons.map(function(r,i){return a.a.createElement("div",{className:"season-item",key:i},a.a.createElement("input",{type:"date",value:r.start,onChange:function(r){var o=e.seasons.map(function(e,t){return t===i?Object.assign({},e,{start:r.target.value}):e});n(t,{seasons:o})}}),a.a.createElement("span",{className:"date-divider"},"~"),a.a.createElement("input",{type:"date",value:r.end,onChange:function(r){var o=e.seasons.map(function(e,t){return t===i?Object.assign({},e,{end:r.target.value}):e});n(t,{seasons:o})}}))}),a.a.createElement("button",{type:"button",className:"btn btn-secondary add-season",onClick:function(){var i=[].concat(r(e.seasons),[{start:"",end:""}]);n(t,{seasons:i})}},"+ Add Season")),a.a.createElement("div",{className:"delete"},a.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(){return i(t)}},"Delete")))}))}var o=n(0),a=n.n(o),s=n(31);n.n(s);t.a=i},function(e,t){},function(e,t,n){"use strict";function r(e){var t=e.crops,n=T(t.length);return o.a.createElement("div",{id:"svg-container"},o.a.createElement("svg",{className:"chart",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+u+" "+(n+2*s),height:n+2*s,width:u},o.a.createElement("g",{className:"chart-body",transform:"translate("+h+", "+s+")"},o.a.createElement("g",{className:"x-axis"},o.a.createElement("line",{stroke:"black",x2:m}),g.map(function(e,t){return o.a.createElement("g",{key:e,transform:"translate("+t*v+")"},o.a.createElement("text",{x:"6",y:"-3",textAnchor:"start",fontSize:11*y/16,fontFamily:"sans-serif"},e))})),t.slice().sort(S).map(function(e,t){return o.a.createElement("g",{key:t,transform:"translate(0, "+t*p+")",className:"crop"},o.a.createElement("rect",{fill:b(t),height:p,width:m}),e.seasons&&e.seasons.map(function(e,t){return e.start&&e.end?o.a.createElement("rect",{key:"season-"+t,className:"bar",fill:l,height:c,width:_(e.start,e.end),x:E(e.start),y:f}):null}),o.a.createElement("text",{className:"crop-label",x:-d,dy:c/2+y/2,textAnchor:"end",fontFamily:"sans-serif",fontSize:y,fill:"black"},e.name))}),o.a.createElement("g",{className:"grid",fill:"none",transform:"translate(0, "+t.length*p+")",textAnchor:"middle"},o.a.createElement("path",{stroke:"black",d:"M 0.5, "+-n+" V 0.5 H "+(m+.5)+" V "+-n}),g.map(function(e,t){return o.a.createElement("line",{key:t,className:"tick",transform:"translate("+((t+1)*v+.5)+", 0)",stroke:"black",y2:"-"+n})})))))}var i=n(0),o=n.n(i),a=n(33),s=(n.n(a),20),u=915,c=20,l="#f5fc1e",f=1,h=175,d=10,p=c+2*f,y=.75*c,m=u-2*s-h,v=m/12,g=["January","February","March","April","May","June","July","August","September","October","November","December"],b=function(e){return e%2===0?"#fafaff":"#ededf0"},w=function(e){var t=e.split("-")[1],n=e.split("-")[2];return n>=20?t:n>10?t-.5:n<=10?t-1:null},_=function(e,t){return e&&t?(w(t)-w(e))*v:0},E=function(e){return w(e)*v},T=function(e){return e*p},S=function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0};t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="./service-worker.js";a?(o(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.f989818c.js.map